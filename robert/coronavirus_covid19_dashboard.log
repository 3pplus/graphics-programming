1                                                          The SAS System                               07:18 Monday, April 13, 2020

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M6) 
      Licensed to SAS IT, Site 70068128.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.1
      SAS/ETS 15.1
      SAS/IML 15.1
      SAS/QC 15.1

WARNING: Your system is scheduled to expire on May 19, 2020, which is 36 days from 
         now. The SAS System will no longer function on or after that date. Please 
         contact your SAS Installation Representative to obtain your updated SAS 
         Installation Data (SID) file, which includes SETINIT information.
To locate the name of your SAS Installation Representative go to 
http://support.sas.com/repfinder and provide your site number 70068128 and company 
name as SAS IT. On the SAS REP list provided, locate the REP for operating system 
Windows.
NOTE: Additional host information:

 X64_10PRO WIN 10.0.18362  Workstation

NOTE: SAS initialization used:
      real time           1.12 seconds
      cpu time            0.21 seconds
2                                 The SAS System       07:18 Monday, April 13, 2020

      

NOTE: AUTOEXEC processing beginning; file is U:\autoexec.sas.


NOTE: AUTOEXEC processing completed.

1          %let name=coronavirus_covid19_dashboard;
2          filename odsout '.';
3          
4          /*
5          Imitation/variation of Johns Hopkins dashboard:
6          https://gisanddata.maps.arcgis.com/apps/opsdashboard/index.html#/bda7594
6        ! 740fd40299423467b48e9ecf6
7          
8          https://github.com/CSSEGISandData/2019-nCoV/tree/master/time_series
9          https://github.com/CSSEGISandData/2019-nCoV/
10         
11         https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_dat
11       ! a/csse_covid_19_time_series
12         https://github.com/CSSEGISandData/COVID-19/
13         */
14         
15         /*
16         Make a local copy/clone of the GitHub data.
17         gitfn_clone() needs an empty folder, therefore use a new
18         folder name each time, with the date & time in the name.
19         */
20         /*
21         %let gitfolder=./github_clone_&sysdate9._%sysfunc(tranwrd(&systime,:,_))
21       ! ;
22         %let gitfolder=./github_clone_17FEB2020;
23         */
24         
25         %let gitfolder=./github_clone_&sysdate9;
26         data _null_;
3                                 The SAS System       07:18 Monday, April 13, 2020

WARNING: The Base SAS Software product with which DATASTEP is associated will be 
         expiring soon, and is currently in warning mode to indicate this upcoming 
         expiration. Please run PROC SETINIT to obtain more information on your 
         warning period.
27          rc = gitfn_clone("https://github.com/CSSEGISandData/COVID-19/",
28            "&gitfolder");
29          put rc=;
30         run;

rc=0
NOTE: DATA statement used (Total process time):
      real time           37.09 seconds
      cpu time            11.25 seconds
      

31         /*
32         */
33         
34         /*
35         John D. accesses the data like this:
36         https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_co
36       ! vid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv
37         */
38         
39         /* ------------------ Import the confirmed cases data
39       ! ---------------------- */
40         
41         /*
42         filename confdata
42       ! "./&gitfolder/time_series/time_series_2019-ncov-Confirmed.csv";
43         filename confdata
43       ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_1
43       ! 9-covid-Confirmed.csv";
44         */
45         filename confdata
45       ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_c
4                                 The SAS System       07:18 Monday, April 13, 2020

45       ! ovid19_confirmed_global.csv";
46         proc import datafile=confdata
47          out=confirmed_data dbms=csv replace;
48         getnames=yes;
49         guessingrows=all;
50         run;

51          /**********************************************************************
52          *   PRODUCT:   SAS
53          *   VERSION:   9.4
54          *   CREATOR:   External File Interface
55          *   DATE:      13APR20
56          *   DESC:      Generated SAS Datastep Code
57          *   TEMPLATE SOURCE:  (None Specified.)
58          ***********************************************************************
58       ! /
59             data WORK.CONFIRMED_DATA    ;
60             %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
61             infile CONFDATA delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2
61       ! ;
62                informat Province_State $34. ;
63                informat Country_Region $32. ;
64                informat Lat best32. ;
65                informat Long best32. ;
66                informat _1_22_20 best32. ;
67                informat _1_23_20 best32. ;
68                informat _1_24_20 best32. ;
69                informat _1_25_20 best32. ;
70                informat _1_26_20 best32. ;
71                informat _1_27_20 best32. ;
72                informat _1_28_20 best32. ;
73                informat _1_29_20 best32. ;
74                informat _1_30_20 best32. ;
75                informat _1_31_20 best32. ;
76                informat _2_1_20 best32. ;
77                informat _2_2_20 best32. ;
5                                 The SAS System       07:18 Monday, April 13, 2020

78                informat _2_3_20 best32. ;
79                informat _2_4_20 best32. ;
80                informat _2_5_20 best32. ;
81                informat _2_6_20 best32. ;
82                informat _2_7_20 best32. ;
83                informat _2_8_20 best32. ;
84                informat _2_9_20 best32. ;
85                informat _2_10_20 best32. ;
86                informat _2_11_20 best32. ;
87                informat _2_12_20 best32. ;
88                informat _2_13_20 best32. ;
89                informat _2_14_20 best32. ;
90                informat _2_15_20 best32. ;
91                informat _2_16_20 best32. ;
92                informat _2_17_20 best32. ;
93                informat _2_18_20 best32. ;
94                informat _2_19_20 best32. ;
95                informat _2_20_20 best32. ;
96                informat _2_21_20 best32. ;
97                informat _2_22_20 best32. ;
98                informat _2_23_20 best32. ;
99                informat _2_24_20 best32. ;
100               informat _2_25_20 best32. ;
101               informat _2_26_20 best32. ;
102               informat _2_27_20 best32. ;
103               informat _2_28_20 best32. ;
104               informat _2_29_20 best32. ;
105               informat _3_1_20 best32. ;
106               informat _3_2_20 best32. ;
107               informat _3_3_20 best32. ;
108               informat _3_4_20 best32. ;
109               informat _3_5_20 best32. ;
110               informat _3_6_20 best32. ;
111               informat _3_7_20 best32. ;
112               informat _3_8_20 best32. ;
113               informat _3_9_20 best32. ;
6                                 The SAS System       07:18 Monday, April 13, 2020

114               informat _3_10_20 best32. ;
115               informat _3_11_20 best32. ;
116               informat _3_12_20 best32. ;
117               informat _3_13_20 best32. ;
118               informat _3_14_20 best32. ;
119               informat _3_15_20 best32. ;
120               informat _3_16_20 best32. ;
121               informat _3_17_20 best32. ;
122               informat _3_18_20 best32. ;
123               informat _3_19_20 best32. ;
124               informat _3_20_20 best32. ;
125               informat _3_21_20 best32. ;
126               informat _3_22_20 best32. ;
127               informat _3_23_20 best32. ;
128               informat _3_24_20 best32. ;
129               informat _3_25_20 best32. ;
130               informat _3_26_20 best32. ;
131               informat _3_27_20 best32. ;
132               informat _3_28_20 best32. ;
133               informat _3_29_20 best32. ;
134               informat _3_30_20 best32. ;
135               informat _3_31_20 best32. ;
136               informat _4_1_20 best32. ;
137               informat _4_2_20 best32. ;
138               informat _4_3_20 best32. ;
139               informat _4_4_20 best32. ;
140               informat _4_5_20 best32. ;
141               informat _4_6_20 best32. ;
142               informat _4_7_20 best32. ;
143               informat _4_8_20 best32. ;
144               informat _4_9_20 best32. ;
145               informat _4_10_20 best32. ;
146               informat _4_11_20 best32. ;
147               informat _4_12_20 best32. ;
148               format Province_State $34. ;
149               format Country_Region $32. ;
7                                 The SAS System       07:18 Monday, April 13, 2020

150               format Lat best12. ;
151               format Long best12. ;
152               format _1_22_20 best12. ;
153               format _1_23_20 best12. ;
154               format _1_24_20 best12. ;
155               format _1_25_20 best12. ;
156               format _1_26_20 best12. ;
157               format _1_27_20 best12. ;
158               format _1_28_20 best12. ;
159               format _1_29_20 best12. ;
160               format _1_30_20 best12. ;
161               format _1_31_20 best12. ;
162               format _2_1_20 best12. ;
163               format _2_2_20 best12. ;
164               format _2_3_20 best12. ;
165               format _2_4_20 best12. ;
166               format _2_5_20 best12. ;
167               format _2_6_20 best12. ;
168               format _2_7_20 best12. ;
169               format _2_8_20 best12. ;
170               format _2_9_20 best12. ;
171               format _2_10_20 best12. ;
172               format _2_11_20 best12. ;
173               format _2_12_20 best12. ;
174               format _2_13_20 best12. ;
175               format _2_14_20 best12. ;
176               format _2_15_20 best12. ;
177               format _2_16_20 best12. ;
178               format _2_17_20 best12. ;
179               format _2_18_20 best12. ;
180               format _2_19_20 best12. ;
181               format _2_20_20 best12. ;
182               format _2_21_20 best12. ;
183               format _2_22_20 best12. ;
184               format _2_23_20 best12. ;
185               format _2_24_20 best12. ;
8                                 The SAS System       07:18 Monday, April 13, 2020

186               format _2_25_20 best12. ;
187               format _2_26_20 best12. ;
188               format _2_27_20 best12. ;
189               format _2_28_20 best12. ;
190               format _2_29_20 best12. ;
191               format _3_1_20 best12. ;
192               format _3_2_20 best12. ;
193               format _3_3_20 best12. ;
194               format _3_4_20 best12. ;
195               format _3_5_20 best12. ;
196               format _3_6_20 best12. ;
197               format _3_7_20 best12. ;
198               format _3_8_20 best12. ;
199               format _3_9_20 best12. ;
200               format _3_10_20 best12. ;
201               format _3_11_20 best12. ;
202               format _3_12_20 best12. ;
203               format _3_13_20 best12. ;
204               format _3_14_20 best12. ;
205               format _3_15_20 best12. ;
206               format _3_16_20 best12. ;
207               format _3_17_20 best12. ;
208               format _3_18_20 best12. ;
209               format _3_19_20 best12. ;
210               format _3_20_20 best12. ;
211               format _3_21_20 best12. ;
212               format _3_22_20 best12. ;
213               format _3_23_20 best12. ;
214               format _3_24_20 best12. ;
215               format _3_25_20 best12. ;
216               format _3_26_20 best12. ;
217               format _3_27_20 best12. ;
218               format _3_28_20 best12. ;
219               format _3_29_20 best12. ;
220               format _3_30_20 best12. ;
221               format _3_31_20 best12. ;
9                                 The SAS System       07:18 Monday, April 13, 2020

222               format _4_1_20 best12. ;
223               format _4_2_20 best12. ;
224               format _4_3_20 best12. ;
225               format _4_4_20 best12. ;
226               format _4_5_20 best12. ;
227               format _4_6_20 best12. ;
228               format _4_7_20 best12. ;
229               format _4_8_20 best12. ;
230               format _4_9_20 best12. ;
231               format _4_10_20 best12. ;
232               format _4_11_20 best12. ;
233               format _4_12_20 best12. ;
234            input
235                        Province_State  $
236                        Country_Region  $
237                        Lat
238                        Long
239                        _1_22_20
240                        _1_23_20
241                        _1_24_20
242                        _1_25_20
243                        _1_26_20
244                        _1_27_20
245                        _1_28_20
246                        _1_29_20
247                        _1_30_20
248                        _1_31_20
249                        _2_1_20
250                        _2_2_20
251                        _2_3_20
252                        _2_4_20
253                        _2_5_20
254                        _2_6_20
255                        _2_7_20
256                        _2_8_20
257                        _2_9_20
10                                The SAS System       07:18 Monday, April 13, 2020

258                        _2_10_20
259                        _2_11_20
260                        _2_12_20
261                        _2_13_20
262                        _2_14_20
263                        _2_15_20
264                        _2_16_20
265                        _2_17_20
266                        _2_18_20
267                        _2_19_20
268                        _2_20_20
269                        _2_21_20
270                        _2_22_20
271                        _2_23_20
272                        _2_24_20
273                        _2_25_20
274                        _2_26_20
275                        _2_27_20
276                        _2_28_20
277                        _2_29_20
278                        _3_1_20
279                        _3_2_20
280                        _3_3_20
281                        _3_4_20
282                        _3_5_20
283                        _3_6_20
284                        _3_7_20
285                        _3_8_20
286                        _3_9_20
287                        _3_10_20
288                        _3_11_20
289                        _3_12_20
290                        _3_13_20
291                        _3_14_20
292                        _3_15_20
293                        _3_16_20
11                                The SAS System       07:18 Monday, April 13, 2020

294                        _3_17_20
295                        _3_18_20
296                        _3_19_20
297                        _3_20_20
298                        _3_21_20
299                        _3_22_20
300                        _3_23_20
301                        _3_24_20
302                        _3_25_20
303                        _3_26_20
304                        _3_27_20
305                        _3_28_20
306                        _3_29_20
307                        _3_30_20
308                        _3_31_20
309                        _4_1_20
310                        _4_2_20
311                        _4_3_20
312                        _4_4_20
313                        _4_5_20
314                        _4_6_20
315                        _4_7_20
316                        _4_8_20
317                        _4_9_20
318                        _4_10_20
319                        _4_11_20
320                        _4_12_20
321            ;
322            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection
322      ! macro variable */
323            run;

NOTE: The infile CONFDATA is:
      
      Filename=U:\web\democd103\.\github_clone_13APR2020\csse_covid_19_data\csse_co
      vid_19_time_series\time_series_covid19_confirmed_global.csv,
12                                The SAS System       07:18 Monday, April 13, 2020

      RECFM=V,LRECL=32767,File Size (bytes)=67420,
      Last Modified=13Apr2020:07:19:27,
      Create Time=13Apr2020:07:19:27

NOTE: 264 records were read from the infile CONFDATA.
      The minimum record length was 183.
      The maximum record length was 505.
NOTE: The data set WORK.CONFIRMED_DATA has 264 observations and 86 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

264 rows created in WORK.CONFIRMED_DATA from CONFDATA.
  
  
  
NOTE: WORK.CONFIRMED_DATA data set was successfully created.
NOTE: The data set WORK.CONFIRMED_DATA has 264 observations and 86 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           1.43 seconds
      cpu time            0.34 seconds
      

324        
325        /* Needed, because of
325      ! https://github.com/CSSEGISandData/COVID-19/issues/559 */
326        /* The state summary has no comma in the province_state variable - don't
326      !  output those lines, or you'll double-count) */
327        /*
328        data confirmed_data; set confirmed_data;
329        if country_region^='US' or (country_region='US' and
329      ! (index(province_state,',')^=0 or province_state in ('Diamond Princess'
329      ! 'Grand Princess')))  then output;
330        run;
331        */
13                                The SAS System       07:18 Monday, April 13, 2020

332        
333        proc transpose data=confirmed_data out=confirmed_data
333      ! (rename=(_name_=datestring col1=confirmed));
334        by Province_State Country_Region Lat Long notsorted;
335        run;

NOTE: There were 264 observations read from the data set WORK.CONFIRMED_DATA.
NOTE: The data set WORK.CONFIRMED_DATA has 21648 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

336        
337        /* The date/timestamp is in a string - parse it apart, and create a real
337      !  date variable */
338        data confirmed_data (drop = month day year datestring);
339         set confirmed_data;
340        Country_Region=trim(left(Country_Region));
341        if province_state='Curacao' then Country_Region='Curacao';
342        if province_state='Greenland' then Country_Region='Greenland';
343        if province_state='Faroe Islands' then Country_Region='Faroe Islands';
344        if province_state='Aruba' then Country_Region='Aruba';
345        if province_state='Sint Maarten' then Country_Region='Sint Maarten';
346        if province_state='Bonaire, Sint Eustatius and Saba' then
346      ! Country_Region='Bonaire, Sint Eustatius and Saba';
347        if country_region='United Arab Emirates' then Country_Region='UAE';
348        if country_region='Iran (Islamic Republic of)' then
348      ! country_region='Iran';
349        month=.; month=scan(datestring,1,'_');
350        day=.; day=scan(datestring,2,'_');
351        year=.; year=2000+scan(datestring,3,'_');
352        if confirmed=0 then confirmed=.;
353        format snapshot date9.;
354        snapshot=mdy(month,day,year);
355        run;
14                                The SAS System       07:18 Monday, April 13, 2020


NOTE: Character values have been converted to numeric 
      values at the places given by: (Line):(Column).
      349:16   350:12   351:19   
NOTE: There were 21648 observations read from the data set WORK.CONFIRMED_DATA.
NOTE: The data set WORK.CONFIRMED_DATA has 21648 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

356        /*
357        Create a table with just the latest date/timestamp.
358        You'll use this latest data in all but the timeseries plot.
359        */
360        proc sql noprint;
361        create table latest_confirmed as
362        select unique *
363        from confirmed_data
364        having snapshot=max(snapshot);
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.LATEST_CONFIRMED created, with 264 rows and 6 columns.

365        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.03 seconds
      

365      !       run;
366        
367        /* Create macro variables with the data & time, to use in the title */
368        proc sql noprint;
369        select unique(snapshot) format=nldate20. into :datestr separated by ' '
369      ! from latest_confirmed;
370        quit;
15                                The SAS System       07:18 Monday, April 13, 2020

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

370      !       run;
371        
372        /* save a copy of the dataset, to use in other programs */
373        libname robsdata '.';
NOTE: Libref ROBSDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: U:\web\democd103
374        data robsdata.confirmed_data; set confirmed_data;
375        run;

NOTE: There were 21648 observations read from the data set WORK.CONFIRMED_DATA.
NOTE: The data set ROBSDATA.CONFIRMED_DATA has 21648 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.01 seconds
      

376        
377        /* ------------------ Import the deaths data ---------------------- */
378        
379        /*
380        filename deatdata
380      ! "./&gitfolder/time_series/time_series_2019-ncov-Deaths.csv";
381        filename deatdata
381      ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_1
381      ! 9-covid-Deaths.csv";
382        */
383        filename deatdata
383      ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_c
383      ! ovid19_deaths_global.csv";
384        proc import datafile=deatdata
16                                The SAS System       07:18 Monday, April 13, 2020

385         out=death_data dbms=csv replace;
386        getnames=yes;
387        guessingrows=all;
388        run;

389         /**********************************************************************
390         *   PRODUCT:   SAS
391         *   VERSION:   9.4
392         *   CREATOR:   External File Interface
393         *   DATE:      13APR20
394         *   DESC:      Generated SAS Datastep Code
395         *   TEMPLATE SOURCE:  (None Specified.)
396         ***********************************************************************
396      ! /
397            data WORK.DEATH_DATA    ;
398            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
399            infile DEATDATA delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2
399      ! ;
400               informat Province_State $34. ;
401               informat Country_Region $32. ;
402               informat Lat best32. ;
403               informat Long best32. ;
404               informat _1_22_20 best32. ;
405               informat _1_23_20 best32. ;
406               informat _1_24_20 best32. ;
407               informat _1_25_20 best32. ;
408               informat _1_26_20 best32. ;
409               informat _1_27_20 best32. ;
410               informat _1_28_20 best32. ;
411               informat _1_29_20 best32. ;
412               informat _1_30_20 best32. ;
413               informat _1_31_20 best32. ;
414               informat _2_1_20 best32. ;
415               informat _2_2_20 best32. ;
416               informat _2_3_20 best32. ;
417               informat _2_4_20 best32. ;
17                                The SAS System       07:18 Monday, April 13, 2020

418               informat _2_5_20 best32. ;
419               informat _2_6_20 best32. ;
420               informat _2_7_20 best32. ;
421               informat _2_8_20 best32. ;
422               informat _2_9_20 best32. ;
423               informat _2_10_20 best32. ;
424               informat _2_11_20 best32. ;
425               informat _2_12_20 best32. ;
426               informat _2_13_20 best32. ;
427               informat _2_14_20 best32. ;
428               informat _2_15_20 best32. ;
429               informat _2_16_20 best32. ;
430               informat _2_17_20 best32. ;
431               informat _2_18_20 best32. ;
432               informat _2_19_20 best32. ;
433               informat _2_20_20 best32. ;
434               informat _2_21_20 best32. ;
435               informat _2_22_20 best32. ;
436               informat _2_23_20 best32. ;
437               informat _2_24_20 best32. ;
438               informat _2_25_20 best32. ;
439               informat _2_26_20 best32. ;
440               informat _2_27_20 best32. ;
441               informat _2_28_20 best32. ;
442               informat _2_29_20 best32. ;
443               informat _3_1_20 best32. ;
444               informat _3_2_20 best32. ;
445               informat _3_3_20 best32. ;
446               informat _3_4_20 best32. ;
447               informat _3_5_20 best32. ;
448               informat _3_6_20 best32. ;
449               informat _3_7_20 best32. ;
450               informat _3_8_20 best32. ;
451               informat _3_9_20 best32. ;
452               informat _3_10_20 best32. ;
453               informat _3_11_20 best32. ;
18                                The SAS System       07:18 Monday, April 13, 2020

454               informat _3_12_20 best32. ;
455               informat _3_13_20 best32. ;
456               informat _3_14_20 best32. ;
457               informat _3_15_20 best32. ;
458               informat _3_16_20 best32. ;
459               informat _3_17_20 best32. ;
460               informat _3_18_20 best32. ;
461               informat _3_19_20 best32. ;
462               informat _3_20_20 best32. ;
463               informat _3_21_20 best32. ;
464               informat _3_22_20 best32. ;
465               informat _3_23_20 best32. ;
466               informat _3_24_20 best32. ;
467               informat _3_25_20 best32. ;
468               informat _3_26_20 best32. ;
469               informat _3_27_20 best32. ;
470               informat _3_28_20 best32. ;
471               informat _3_29_20 best32. ;
472               informat _3_30_20 best32. ;
473               informat _3_31_20 best32. ;
474               informat _4_1_20 best32. ;
475               informat _4_2_20 best32. ;
476               informat _4_3_20 best32. ;
477               informat _4_4_20 best32. ;
478               informat _4_5_20 best32. ;
479               informat _4_6_20 best32. ;
480               informat _4_7_20 best32. ;
481               informat _4_8_20 best32. ;
482               informat _4_9_20 best32. ;
483               informat _4_10_20 best32. ;
484               informat _4_11_20 best32. ;
485               informat _4_12_20 best32. ;
486               format Province_State $34. ;
487               format Country_Region $32. ;
488               format Lat best12. ;
489               format Long best12. ;
19                                The SAS System       07:18 Monday, April 13, 2020

490               format _1_22_20 best12. ;
491               format _1_23_20 best12. ;
492               format _1_24_20 best12. ;
493               format _1_25_20 best12. ;
494               format _1_26_20 best12. ;
495               format _1_27_20 best12. ;
496               format _1_28_20 best12. ;
497               format _1_29_20 best12. ;
498               format _1_30_20 best12. ;
499               format _1_31_20 best12. ;
500               format _2_1_20 best12. ;
501               format _2_2_20 best12. ;
502               format _2_3_20 best12. ;
503               format _2_4_20 best12. ;
504               format _2_5_20 best12. ;
505               format _2_6_20 best12. ;
506               format _2_7_20 best12. ;
507               format _2_8_20 best12. ;
508               format _2_9_20 best12. ;
509               format _2_10_20 best12. ;
510               format _2_11_20 best12. ;
511               format _2_12_20 best12. ;
512               format _2_13_20 best12. ;
513               format _2_14_20 best12. ;
514               format _2_15_20 best12. ;
515               format _2_16_20 best12. ;
516               format _2_17_20 best12. ;
517               format _2_18_20 best12. ;
518               format _2_19_20 best12. ;
519               format _2_20_20 best12. ;
520               format _2_21_20 best12. ;
521               format _2_22_20 best12. ;
522               format _2_23_20 best12. ;
523               format _2_24_20 best12. ;
524               format _2_25_20 best12. ;
525               format _2_26_20 best12. ;
20                                The SAS System       07:18 Monday, April 13, 2020

526               format _2_27_20 best12. ;
527               format _2_28_20 best12. ;
528               format _2_29_20 best12. ;
529               format _3_1_20 best12. ;
530               format _3_2_20 best12. ;
531               format _3_3_20 best12. ;
532               format _3_4_20 best12. ;
533               format _3_5_20 best12. ;
534               format _3_6_20 best12. ;
535               format _3_7_20 best12. ;
536               format _3_8_20 best12. ;
537               format _3_9_20 best12. ;
538               format _3_10_20 best12. ;
539               format _3_11_20 best12. ;
540               format _3_12_20 best12. ;
541               format _3_13_20 best12. ;
542               format _3_14_20 best12. ;
543               format _3_15_20 best12. ;
544               format _3_16_20 best12. ;
545               format _3_17_20 best12. ;
546               format _3_18_20 best12. ;
547               format _3_19_20 best12. ;
548               format _3_20_20 best12. ;
549               format _3_21_20 best12. ;
550               format _3_22_20 best12. ;
551               format _3_23_20 best12. ;
552               format _3_24_20 best12. ;
553               format _3_25_20 best12. ;
554               format _3_26_20 best12. ;
555               format _3_27_20 best12. ;
556               format _3_28_20 best12. ;
557               format _3_29_20 best12. ;
558               format _3_30_20 best12. ;
559               format _3_31_20 best12. ;
560               format _4_1_20 best12. ;
561               format _4_2_20 best12. ;
21                                The SAS System       07:18 Monday, April 13, 2020

562               format _4_3_20 best12. ;
563               format _4_4_20 best12. ;
564               format _4_5_20 best12. ;
565               format _4_6_20 best12. ;
566               format _4_7_20 best12. ;
567               format _4_8_20 best12. ;
568               format _4_9_20 best12. ;
569               format _4_10_20 best12. ;
570               format _4_11_20 best12. ;
571               format _4_12_20 best12. ;
572            input
573                        Province_State  $
574                        Country_Region  $
575                        Lat
576                        Long
577                        _1_22_20
578                        _1_23_20
579                        _1_24_20
580                        _1_25_20
581                        _1_26_20
582                        _1_27_20
583                        _1_28_20
584                        _1_29_20
585                        _1_30_20
586                        _1_31_20
587                        _2_1_20
588                        _2_2_20
589                        _2_3_20
590                        _2_4_20
591                        _2_5_20
592                        _2_6_20
593                        _2_7_20
594                        _2_8_20
595                        _2_9_20
596                        _2_10_20
597                        _2_11_20
22                                The SAS System       07:18 Monday, April 13, 2020

598                        _2_12_20
599                        _2_13_20
600                        _2_14_20
601                        _2_15_20
602                        _2_16_20
603                        _2_17_20
604                        _2_18_20
605                        _2_19_20
606                        _2_20_20
607                        _2_21_20
608                        _2_22_20
609                        _2_23_20
610                        _2_24_20
611                        _2_25_20
612                        _2_26_20
613                        _2_27_20
614                        _2_28_20
615                        _2_29_20
616                        _3_1_20
617                        _3_2_20
618                        _3_3_20
619                        _3_4_20
620                        _3_5_20
621                        _3_6_20
622                        _3_7_20
623                        _3_8_20
624                        _3_9_20
625                        _3_10_20
626                        _3_11_20
627                        _3_12_20
628                        _3_13_20
629                        _3_14_20
630                        _3_15_20
631                        _3_16_20
632                        _3_17_20
633                        _3_18_20
23                                The SAS System       07:18 Monday, April 13, 2020

634                        _3_19_20
635                        _3_20_20
636                        _3_21_20
637                        _3_22_20
638                        _3_23_20
639                        _3_24_20
640                        _3_25_20
641                        _3_26_20
642                        _3_27_20
643                        _3_28_20
644                        _3_29_20
645                        _3_30_20
646                        _3_31_20
647                        _4_1_20
648                        _4_2_20
649                        _4_3_20
650                        _4_4_20
651                        _4_5_20
652                        _4_6_20
653                        _4_7_20
654                        _4_8_20
655                        _4_9_20
656                        _4_10_20
657                        _4_11_20
658                        _4_12_20
659            ;
660            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection
660      ! macro variable */
661            run;

NOTE: The infile DEATDATA is:
      
      Filename=U:\web\democd103\.\github_clone_13APR2020\csse_covid_19_data\csse_co
      vid_19_time_series\time_series_covid19_deaths_global.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=54349,
      Last Modified=13Apr2020:07:19:27,
24                                The SAS System       07:18 Monday, April 13, 2020

      Create Time=13Apr2020:07:19:27

NOTE: 264 records were read from the infile DEATDATA.
      The minimum record length was 179.
      The maximum record length was 412.
NOTE: The data set WORK.DEATH_DATA has 264 observations and 86 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

264 rows created in WORK.DEATH_DATA from DEATDATA.
  
  
  
NOTE: WORK.DEATH_DATA data set was successfully created.
NOTE: The data set WORK.DEATH_DATA has 264 observations and 86 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.61 seconds
      cpu time            0.35 seconds
      

662        
663        /* Needed, because of
663      ! https://github.com/CSSEGISandData/COVID-19/issues/559 */
664        /* The state summary has no comma in the province_state variable - don't
664      !  output those lines, or you'll double-count) */
665        /*
666        data death_data; set death_data;
667        if country_region^='US' or (country_region='US' and
667      ! (index(province_state,',')^=0 or province_state in ('Diamond Princess'
667      ! 'Grand Princess')))  then output;
668        run;
669        */
670        
671        proc transpose data=death_data out=death_data (rename=(_name_=datestring
25                                The SAS System       07:18 Monday, April 13, 2020

671      !  col1=deaths));
672        by Province_State Country_Region Lat Long notsorted;
673        run;

NOTE: There were 264 observations read from the data set WORK.DEATH_DATA.
NOTE: The data set WORK.DEATH_DATA has 21648 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

674        
675        /* The date/timestamp is in a string - parse it apart, and create a real
675      !  date variable */
676        data death_data (drop = month day year datestring);
677         set death_data;
678        Country_Region=trim(left(Country_Region));
679        if province_state='Curacao' then Country_Region='Curacao';
680        if province_state='Greenland' then Country_Region='Greenland';
681        if province_state='Faroe Islands' then Country_Region='Faroe Islands';
682        if province_state='Aruba' then Country_Region='Aruba';
683        if province_state='Sint Maarten' then Country_Region='Sint Maarten';
684        if province_state='Bonaire, Sint Eustatius and Saba' then
684      ! Country_Region='Bonaire, Sint Eustatius and Saba';
685        if Country_Region='United Arab Emirates' then Country_Region='UAE';
686        if country_region='Iran (Islamic Republic of)' then
686      ! country_region='Iran';
687        month=.; month=scan(datestring,1,'_');
688        day=.; day=scan(datestring,2,'_');
689        year=.; year=2000+scan(datestring,3,'_');
690        if deaths=0 then deaths=.;
691        format snapshot date9.;
692        snapshot=mdy(month,day,year);
693        run;

NOTE: Character values have been converted to numeric 
26                                The SAS System       07:18 Monday, April 13, 2020

      values at the places given by: (Line):(Column).
      687:16   688:12   689:19   
NOTE: There were 21648 observations read from the data set WORK.DEATH_DATA.
NOTE: The data set WORK.DEATH_DATA has 21648 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

694        
695        proc sql noprint;
696        create table latest_deaths as
697        select unique *
698        from death_data
699        having snapshot=max(snapshot);
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.LATEST_DEATHS created, with 264 rows and 6 columns.

700        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

700      !       run;
701        
702        
703        /* ------------------ Import the recovered cases data
703      ! ---------------------- */
704        
705        /*
706        filename recodata
706      ! "./&gitfolder/time_series/time_series_2019-ncov-Recovered.csv";
707        filename recodata
707      ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_1
707      ! 9-covid-Recovered.csv";
27                                The SAS System       07:18 Monday, April 13, 2020

708        */
709        filename recodata
709      ! "./&gitfolder/csse_covid_19_data/csse_covid_19_time_series/time_series_c
709      ! ovid19_recovered_global.csv";
710        proc import datafile=recodata
711         out=recovered_data dbms=csv replace;
712        getnames=yes;
713        guessingrows=all;
714        run;

715         /**********************************************************************
716         *   PRODUCT:   SAS
717         *   VERSION:   9.4
718         *   CREATOR:   External File Interface
719         *   DATE:      13APR20
720         *   DESC:      Generated SAS Datastep Code
721         *   TEMPLATE SOURCE:  (None Specified.)
722         ***********************************************************************
722      ! /
723            data WORK.RECOVERED_DATA    ;
724            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
725            infile RECODATA delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2
725      ! ;
726               informat Province_State $34. ;
727               informat Country_Region $32. ;
728               informat Lat best32. ;
729               informat Long best32. ;
730               informat _1_22_20 best32. ;
731               informat _1_23_20 best32. ;
732               informat _1_24_20 best32. ;
733               informat _1_25_20 best32. ;
734               informat _1_26_20 best32. ;
735               informat _1_27_20 best32. ;
736               informat _1_28_20 best32. ;
737               informat _1_29_20 best32. ;
738               informat _1_30_20 best32. ;
28                                The SAS System       07:18 Monday, April 13, 2020

739               informat _1_31_20 best32. ;
740               informat _2_1_20 best32. ;
741               informat _2_2_20 best32. ;
742               informat _2_3_20 best32. ;
743               informat _2_4_20 best32. ;
744               informat _2_5_20 best32. ;
745               informat _2_6_20 best32. ;
746               informat _2_7_20 best32. ;
747               informat _2_8_20 best32. ;
748               informat _2_9_20 best32. ;
749               informat _2_10_20 best32. ;
750               informat _2_11_20 best32. ;
751               informat _2_12_20 best32. ;
752               informat _2_13_20 best32. ;
753               informat _2_14_20 best32. ;
754               informat _2_15_20 best32. ;
755               informat _2_16_20 best32. ;
756               informat _2_17_20 best32. ;
757               informat _2_18_20 best32. ;
758               informat _2_19_20 best32. ;
759               informat _2_20_20 best32. ;
760               informat _2_21_20 best32. ;
761               informat _2_22_20 best32. ;
762               informat _2_23_20 best32. ;
763               informat _2_24_20 best32. ;
764               informat _2_25_20 best32. ;
765               informat _2_26_20 best32. ;
766               informat _2_27_20 best32. ;
767               informat _2_28_20 best32. ;
768               informat _2_29_20 best32. ;
769               informat _3_1_20 best32. ;
770               informat _3_2_20 best32. ;
771               informat _3_3_20 best32. ;
772               informat _3_4_20 best32. ;
773               informat _3_5_20 best32. ;
774               informat _3_6_20 best32. ;
29                                The SAS System       07:18 Monday, April 13, 2020

775               informat _3_7_20 best32. ;
776               informat _3_8_20 best32. ;
777               informat _3_9_20 best32. ;
778               informat _3_10_20 best32. ;
779               informat _3_11_20 best32. ;
780               informat _3_12_20 best32. ;
781               informat _3_13_20 best32. ;
782               informat _3_14_20 best32. ;
783               informat _3_15_20 best32. ;
784               informat _3_16_20 best32. ;
785               informat _3_17_20 best32. ;
786               informat _3_18_20 best32. ;
787               informat _3_19_20 best32. ;
788               informat _3_20_20 best32. ;
789               informat _3_21_20 best32. ;
790               informat _3_22_20 best32. ;
791               informat _3_23_20 best32. ;
792               informat _3_24_20 best32. ;
793               informat _3_25_20 best32. ;
794               informat _3_26_20 best32. ;
795               informat _3_27_20 best32. ;
796               informat _3_28_20 best32. ;
797               informat _3_29_20 best32. ;
798               informat _3_30_20 best32. ;
799               informat _3_31_20 best32. ;
800               informat _4_1_20 best32. ;
801               informat _4_2_20 best32. ;
802               informat _4_3_20 best32. ;
803               informat _4_4_20 best32. ;
804               informat _4_5_20 best32. ;
805               informat _4_6_20 best32. ;
806               informat _4_7_20 best32. ;
807               informat _4_8_20 best32. ;
808               informat _4_9_20 best32. ;
809               informat _4_10_20 best32. ;
810               informat _4_11_20 best32. ;
30                                The SAS System       07:18 Monday, April 13, 2020

811               informat _4_12_20 best32. ;
812               format Province_State $34. ;
813               format Country_Region $32. ;
814               format Lat best12. ;
815               format Long best12. ;
816               format _1_22_20 best12. ;
817               format _1_23_20 best12. ;
818               format _1_24_20 best12. ;
819               format _1_25_20 best12. ;
820               format _1_26_20 best12. ;
821               format _1_27_20 best12. ;
822               format _1_28_20 best12. ;
823               format _1_29_20 best12. ;
824               format _1_30_20 best12. ;
825               format _1_31_20 best12. ;
826               format _2_1_20 best12. ;
827               format _2_2_20 best12. ;
828               format _2_3_20 best12. ;
829               format _2_4_20 best12. ;
830               format _2_5_20 best12. ;
831               format _2_6_20 best12. ;
832               format _2_7_20 best12. ;
833               format _2_8_20 best12. ;
834               format _2_9_20 best12. ;
835               format _2_10_20 best12. ;
836               format _2_11_20 best12. ;
837               format _2_12_20 best12. ;
838               format _2_13_20 best12. ;
839               format _2_14_20 best12. ;
840               format _2_15_20 best12. ;
841               format _2_16_20 best12. ;
842               format _2_17_20 best12. ;
843               format _2_18_20 best12. ;
844               format _2_19_20 best12. ;
845               format _2_20_20 best12. ;
846               format _2_21_20 best12. ;
31                                The SAS System       07:18 Monday, April 13, 2020

847               format _2_22_20 best12. ;
848               format _2_23_20 best12. ;
849               format _2_24_20 best12. ;
850               format _2_25_20 best12. ;
851               format _2_26_20 best12. ;
852               format _2_27_20 best12. ;
853               format _2_28_20 best12. ;
854               format _2_29_20 best12. ;
855               format _3_1_20 best12. ;
856               format _3_2_20 best12. ;
857               format _3_3_20 best12. ;
858               format _3_4_20 best12. ;
859               format _3_5_20 best12. ;
860               format _3_6_20 best12. ;
861               format _3_7_20 best12. ;
862               format _3_8_20 best12. ;
863               format _3_9_20 best12. ;
864               format _3_10_20 best12. ;
865               format _3_11_20 best12. ;
866               format _3_12_20 best12. ;
867               format _3_13_20 best12. ;
868               format _3_14_20 best12. ;
869               format _3_15_20 best12. ;
870               format _3_16_20 best12. ;
871               format _3_17_20 best12. ;
872               format _3_18_20 best12. ;
873               format _3_19_20 best12. ;
874               format _3_20_20 best12. ;
875               format _3_21_20 best12. ;
876               format _3_22_20 best12. ;
877               format _3_23_20 best12. ;
878               format _3_24_20 best12. ;
879               format _3_25_20 best12. ;
880               format _3_26_20 best12. ;
881               format _3_27_20 best12. ;
882               format _3_28_20 best12. ;
32                                The SAS System       07:18 Monday, April 13, 2020

883               format _3_29_20 best12. ;
884               format _3_30_20 best12. ;
885               format _3_31_20 best12. ;
886               format _4_1_20 best12. ;
887               format _4_2_20 best12. ;
888               format _4_3_20 best12. ;
889               format _4_4_20 best12. ;
890               format _4_5_20 best12. ;
891               format _4_6_20 best12. ;
892               format _4_7_20 best12. ;
893               format _4_8_20 best12. ;
894               format _4_9_20 best12. ;
895               format _4_10_20 best12. ;
896               format _4_11_20 best12. ;
897               format _4_12_20 best12. ;
898            input
899                        Province_State  $
900                        Country_Region  $
901                        Lat
902                        Long
903                        _1_22_20
904                        _1_23_20
905                        _1_24_20
906                        _1_25_20
907                        _1_26_20
908                        _1_27_20
909                        _1_28_20
910                        _1_29_20
911                        _1_30_20
912                        _1_31_20
913                        _2_1_20
914                        _2_2_20
915                        _2_3_20
916                        _2_4_20
917                        _2_5_20
918                        _2_6_20
33                                The SAS System       07:18 Monday, April 13, 2020

919                        _2_7_20
920                        _2_8_20
921                        _2_9_20
922                        _2_10_20
923                        _2_11_20
924                        _2_12_20
925                        _2_13_20
926                        _2_14_20
927                        _2_15_20
928                        _2_16_20
929                        _2_17_20
930                        _2_18_20
931                        _2_19_20
932                        _2_20_20
933                        _2_21_20
934                        _2_22_20
935                        _2_23_20
936                        _2_24_20
937                        _2_25_20
938                        _2_26_20
939                        _2_27_20
940                        _2_28_20
941                        _2_29_20
942                        _3_1_20
943                        _3_2_20
944                        _3_3_20
945                        _3_4_20
946                        _3_5_20
947                        _3_6_20
948                        _3_7_20
949                        _3_8_20
950                        _3_9_20
951                        _3_10_20
952                        _3_11_20
953                        _3_12_20
954                        _3_13_20
34                                The SAS System       07:18 Monday, April 13, 2020

955                        _3_14_20
956                        _3_15_20
957                        _3_16_20
958                        _3_17_20
959                        _3_18_20
960                        _3_19_20
961                        _3_20_20
962                        _3_21_20
963                        _3_22_20
964                        _3_23_20
965                        _3_24_20
966                        _3_25_20
967                        _3_26_20
968                        _3_27_20
969                        _3_28_20
970                        _3_29_20
971                        _3_30_20
972                        _3_31_20
973                        _4_1_20
974                        _4_2_20
975                        _4_3_20
976                        _4_4_20
977                        _4_5_20
978                        _4_6_20
979                        _4_7_20
980                        _4_8_20
981                        _4_9_20
982                        _4_10_20
983                        _4_11_20
984                        _4_12_20
985            ;
986            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection
986      ! macro variable */
987            run;

NOTE: The infile RECODATA is:
35                                The SAS System       07:18 Monday, April 13, 2020

      
      Filename=U:\web\democd103\.\github_clone_13APR2020\csse_covid_19_data\csse_co
      vid_19_time_series\time_series_covid19_recovered_global.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=56755,
      Last Modified=13Apr2020:07:19:27,
      Create Time=13Apr2020:07:19:27

NOTE: 250 records were read from the infile RECODATA.
      The minimum record length was 180.
      The maximum record length was 467.
NOTE: The data set WORK.RECOVERED_DATA has 250 observations and 86 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

250 rows created in WORK.RECOVERED_DATA from RECODATA.
  
  
  
NOTE: WORK.RECOVERED_DATA data set was successfully created.
NOTE: The data set WORK.RECOVERED_DATA has 250 observations and 86 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.50 seconds
      cpu time            0.28 seconds
      

988        
989        /* Needed, because of
989      ! https://github.com/CSSEGISandData/COVID-19/issues/559 */
990        /* The state summary has no comma in the province_state variable - don't
990      !  output those lines, or you'll double-count) */
991        /*
992        data recovered_data; set recovered_data;
993        if country_region^='US' or (country_region='US' and
993      ! (index(province_state,',')^=0 or province_state in ('Diamond Princess'
36                                The SAS System       07:18 Monday, April 13, 2020

993      ! 'Grand Princess')))  then output;
994        run;
995        */
996        
997        proc transpose data=recovered_data out=recovered_data
997      ! (rename=(_name_=datestring col1=recovered));
998        by Province_State Country_Region Lat Long notsorted;
999        run;

NOTE: There were 250 observations read from the data set WORK.RECOVERED_DATA.
NOTE: The data set WORK.RECOVERED_DATA has 20500 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1000       
1001       /* The date/timestamp is in a string - parse it apart, and create a real
1001     !  date variable */
1002       data recovered_data (drop = month day year datestring);
1003        set recovered_data;
1004       Country_Region=trim(left(Country_Region));
1005       if province_state='Curacao' then Country_Region='Curacao';
1006       if province_state='Greenland' then Country_Region='Greenland';
1007       if province_state='Faroe Islands' then Country_Region='Faroe Islands';
1008       if province_state='Aruba' then Country_Region='Aruba';
1009       if province_state='Sint Maarten' then Country_Region='Sint Maarten';
1010       if province_state='Bonaire, Sint Eustatius and Saba' then
1010     ! Country_Region='Bonaire, Sint Eustatius and Saba';
1011       if Country_Region='United Arab Emirates' then Country_Region='UAE';
1012       if country_region='Iran (Islamic Republic of)' then
1012     ! country_region='Iran';
1013       month=.; month=scan(datestring,1,'_');
1014       day=.; day=scan(datestring,2,'_');
1015       year=.; year=2000+scan(datestring,3,'_');
1016       if recovered=0 then recovered=.;
37                                The SAS System       07:18 Monday, April 13, 2020

1017       format snapshot dateampm.;
1018       snapshot=mdy(month,day,year);
1019       run;

NOTE: Character values have been converted to numeric 
      values at the places given by: (Line):(Column).
      1013:16   1014:12   1015:19   
NOTE: There were 20500 observations read from the data set WORK.RECOVERED_DATA.
NOTE: The data set WORK.RECOVERED_DATA has 20500 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

1020       
1021       proc sql noprint;
1022       create table latest_recovered as
1023       select unique *
1024       from recovered_data
1025       having snapshot=max(snapshot);
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.LATEST_RECOVERED created, with 250 rows and 6 columns.

1026       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

1026     !       run;
1027       
1028       
1029       proc sql noprint;
1030       create table confirmed_increase as
1031       select unique country_region, snapshot, sum(confirmed) as confirmed
1032       from confirmed_data
38                                The SAS System       07:18 Monday, April 13, 2020

1033       group by country_region, snapshot
1034       order by country_region, snapshot;
NOTE: Table WORK.CONFIRMED_INCREASE created, with 15662 rows and 3 columns.

1035       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

1035     !       run;
1036       data confirmed_increase; set confirmed_increase;
1037       confirmed_this_day=confirmed-lag(confirmed);
1038       if country_region^=lag(country_region) then confirmed_this_day=.;
1039       run;

NOTE: Missing values were generated as a result of performing an operation on 
      missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      8260 at 1037:29   
NOTE: There were 15662 observations read from the data set WORK.CONFIRMED_INCREASE.
NOTE: The data set WORK.CONFIRMED_INCREASE has 15662 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1040       proc sql noprint;
1041       create table latest_increase as
1042       select unique snapshot, country_region, confirmed_this_day
1043       from confirmed_increase
1044       having snapshot=max(snapshot);
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.LATEST_INCREASE created, with 191 rows and 3 columns.

1045       quit;
39                                The SAS System       07:18 Monday, April 13, 2020

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1045     !       run;
1046       
1047       
1048       /*
1048     ! -----------------------------------------------------------------------
1048     ! */
1049       
1050       
1051       goptions device=png;
1052       goptions border;
1053       
1054       ODS LISTING CLOSE;
1055       ODS html path=odsout body="&name..htm"
1056        (title="COVID-19 Coronavirus Dashboard")
1057        style=htmlblue;
NOTE: Writing HTML Body file: coronavirus_covid19_dashboard.htm
1058       
1059       goptions gunit=pct ftitle='albany amt/bold' ftext='albany amt'
1059     ! htitle=28pt htext=12pt;
1060       goptions cback=black ctext=graycc;
1061       
1062       /* Create the individual graphs, but don't display them (yet) */
1063       goptions nodisplay;
1064       
1065       /*-------------------------------------------------------------------*/
1066       
1067       goptions xpixels=1400 ypixels=700;
1068       data anno_black_background;
1069       length function $8 color $12 style $35;
1070       xsys='3'; ysys='3'; when='b';
1071       function='move'; x=0; y=0; output;
40                                The SAS System       07:18 Monday, April 13, 2020

1072       function='bar'; x=100; y=100; style='solid'; color="black"; output;
1073       run;

NOTE: The data set WORK.ANNO_BLACK_BACKGROUND has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1074       
1075       /* this is the medium graph background used behind each graph */
1076       data anno_gray_background; set anno_black_background;
1077       color="gray22";
1078       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_BLACK_BACKGROUND.
NOTE: The data set WORK.ANNO_GRAY_BACKGROUND has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1079       
1080       /* this is the dark/black background, behind the entire dashboard */
1081       proc gslide anno=anno_black_background
WARNING: The SAS/GRAPH product with which GSLIDE is associated will be expiring 
         soon, and is currently in warning mode to indicate this upcoming 
         expiration. Please run PROC SETINIT to obtain more information on your 
         warning period.
1082        des='' name='back';
1083       run;

1084       
1085       title;
1086       
1087       
41                                The SAS System       07:18 Monday, April 13, 2020

1088       /*-----------------------------title------------------------------------
1088     ! --*/
1089       
1090       /* Use annotate & gslide to create a long/skinny title slide */
1091       
1092       /* xpixels=(99.5-.5)/100*1400 ypixels=(99-90)/100*700 */
1093       goptions xpixels=1386 ypixels=63;

NOTE: There were 2 observations read from the data set WORK.ANNO_BLACK_BACKGROUND.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.25 seconds
      cpu time            0.06 seconds
      

1094       data anno_title;
1095       length function $8 color $12 style $35 text $300 html $300;
1096       xsys='3'; ysys='3'; when='a'; hsys='d';
1097       function='label'; position='6'; color="graycc";
1098       html='title='||quote("COVID-19 Coronavirus dashboard - &datestr
1098     ! snapshot");
1099       size=20; x=2; y=60; text="COVID-19 Coronavirus Global Cases"; output;
1100       size=14; x=44; y=53; text="&datestr snapshot"; output;
1101       run;

NOTE: Variable style is uninitialized.
NOTE: The data set WORK.ANNO_TITLE has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1102       data anno_title; set anno_gray_background anno_title;
1103       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 2 observations read from the data set WORK.ANNO_TITLE.
42                                The SAS System       07:18 Monday, April 13, 2020

NOTE: The data set WORK.ANNO_TITLE has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1104       proc gslide anno=anno_title des='' name='title';
1105       run;

1106       
1107       
1108       /*-----------------------------info-------------------------------------
1108     ! -*/
1109       
1110       /* Use annotated text in a gslide to create the info box in bottom/right
1110     !  corner */
1111       
1112       /* xpixels=(99.5-70)/100*1400 ypixels=(15-1)/100*700 */
1113       goptions xpixels=413 ypixels=98;

NOTE: There were 4 observations read from the data set WORK.ANNO_TITLE.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

1114       data anno_info;
1115       length function $8 color $12 style $35 text $300 html $300;
1116       xsys='3'; ysys='3'; when='a'; hsys='d';
1117       function='label'; position='6';
1118       size=11;
1119       
1120       y=87; html=''; function='label';
1121       x=3; color="graycc"; style="albany amt"; text="Visualization by: ";
1121     ! output;
1122       html='target="cor2"
43                                The SAS System       07:18 Monday, April 13, 2020

1122     ! href='||quote('https://blogs.sas.com/content/graphicallyspeaking/2020/02
1122     ! /03/improving-the-wuhan-coronavirus-dashboard/');
1123       x=30; color="dodgerblue"; style="albany amt/bold"; text="Robert Allison
1123     ! using SAS Software"; output;
1124       
1125       y=y-24; html='';
1126       x=3; color="graycc"; style="albany amt"; text="Designed after: "; output
1126     ! ;
1127       html='target="cor2"
1127     ! href='||quote('https://gisanddata.maps.arcgis.com/apps/opsdashboard/inde
1127     ! x.html#/bda7594740fd40299423467b48e9ecf6');
1128       x=29; color="dodgerblue"; style="albany amt/bold"; text="Johns Hopkins
1128     ! dashboard"; output;
1129       
1130       y=y-24; html='';
1131       x=3; color="graycc"; style="albany amt"; text="Data sources: "; output;
1132       html='target="cor2"
1132     ! href='||quote('https://www.who.int/emergencies/diseases/novel-coronaviru
1132     ! s-2019/situation-reports');
1133       x=28; color="dodgerblue"; style="albany amt/bold"; text="WHO,"; output;
1134       html='target="cor2"
1134     ! href='||quote('https://www.cdc.gov/coronavirus/2019-ncov/index.html');
1135       x=x+11; color="dodgerblue"; text="CDC,"; output;
1136       html='target="cor2"
1136     ! href='||quote('https://www.ecdc.europa.eu/en/geographical-distribution-2
1136     ! 019-ncov-cases');
1137       x=x+10; color="dodgerblue"; text="ECDC,"; output;
1138       html='target="cor2"
1138     ! href='||quote('http://www.nhc.gov.cn/yjb/s3578/new_list.shtml');
1139       x=x+13; color="dodgerblue"; text="NHC,"; output;
1140       html='target="cor2"
1140     ! href='||quote('https://3g.dxy.cn/newh5/view/pneumonia?scene=2&clicktime=
1140     ! 1579582238&enterid=1579582238&from=singlemessage&isappinstalled=0');
1141       x=x+10; color="dodgerblue"; text="and DXY"; output;
1142       
1143       y=y-24; html='';
44                                The SAS System       07:18 Monday, April 13, 2020

1144       x=3; color="graycc"; style="albany amt"; text="Data: "; output;
1145       html='target="cor2"
1145     ! href='||quote('https://github.com/CSSEGISandData/COVID-19/tree/master/cs
1145     ! se_covid_19_data/csse_covid_19_time_series');
1146       x=14; color="dodgerblue"; style="albany amt/bold"; text="GitHub"; output
1146     ! ;
1147       
1148       run;

NOTE: The data set WORK.ANNO_INFO has 12 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1149       data anno_info; set anno_gray_background anno_info;
1150       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 12 observations read from the data set WORK.ANNO_INFO.
NOTE: The data set WORK.ANNO_INFO has 14 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1151       proc gslide anno=anno_info des='' name='info';
1152       run;

1153       
1154       
1155       /*----------------------------confsum-----------------------------------
1155     ! ----*/
1156       
1157       /* this is the grand sum (large number) over the confirmed table */
1158       
45                                The SAS System       07:18 Monday, April 13, 2020

1159       /* xpixels=(15-.5)/100*1400  ypixels=(89-75)/100*700 */
1160       goptions xpixels=203 ypixels=98;
1161       

NOTE: There were 14 observations read from the data set WORK.ANNO_INFO.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds
      

1162       proc sql noprint;
1163       create table anno_confirmed_total as
1164       select sum(confirmed) as sum_confirmed from latest_confirmed;
NOTE: Table WORK.ANNO_CONFIRMED_TOTAL created, with 1 rows and 1 columns.

1165       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1165     !       run;
1166       data anno_confirmed_total; set anno_confirmed_total;
1167       length function $8 color $12 style $35 text $300 html $300;
1168       xsys='3'; ysys='3'; when='a'; hsys='d';
1169       function='label'; position='5';
1170       style='albany amt/bold'; color="graycc"; size=11;
1171       x=50; y=84; text="Total Confirmed"; output;
1172       html='title='||quote(trim(left(put(sum_confirmed,comma12.0)))||" total
1172     ! confirmed cases of COVID-19 Coronavirus worldwide");
1173       style='albany amt/bold'; color="red"; size=31;
1174       x=50; y=50; text=trim(left(put(sum_confirmed,comma12.0))); output;
1175       run;

NOTE: There were 1 observations read from the data set WORK.ANNO_CONFIRMED_TOTAL.
NOTE: The data set WORK.ANNO_CONFIRMED_TOTAL has 2 observations and 14 variables.
46                                The SAS System       07:18 Monday, April 13, 2020

NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

1176       data anno_confirmed_total; set anno_gray_background anno_confirmed_total
1176     ! ;
1177       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 2 observations read from the data set WORK.ANNO_CONFIRMED_TOTAL.
NOTE: The data set WORK.ANNO_CONFIRMED_TOTAL has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

1178       proc gslide anno=anno_confirmed_total des='' name='confsum';
1179       run;

1180       
1181       /*------------------------------deadsum---------------------------------
1181     ! ----*/
1182       
1183       /* this is the grand sum (large number) over the deaths table */
1184       
1185       goptions xpixels=203 ypixels=98;

NOTE: There were 4 observations read from the data set WORK.ANNO_CONFIRMED_TOTAL.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

1186       proc sql noprint;
1187       create table anno_deaths_total as
47                                The SAS System       07:18 Monday, April 13, 2020

1188       select sum(deaths) as sum_deaths from latest_deaths;
NOTE: Table WORK.ANNO_DEATHS_TOTAL created, with 1 rows and 1 columns.

1189       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1189     !       run;
1190       data anno_deaths_total; set anno_deaths_total;
1191       length function $8 color $12 style $35 text $300 html $300;
1192       xsys='3'; ysys='3'; when='a'; hsys='d';
1193       function='label'; position='5';
1194       style='albany amt/bold'; color="graycc"; size=11;
1195       x=50; y=84; text="Total Deaths"; output;
1196       html='title='||quote(trim(left(put(sum_deaths,comma12.0)))||" deaths
1196     ! from COVID-19 Coronavirus worldwide");
1197       style='albany amt/bold'; color="white"; size=40;
1198       x=50; y=50; text=trim(left(put(sum_deaths,comma12.0))); output;
1199       run;

NOTE: There were 1 observations read from the data set WORK.ANNO_DEATHS_TOTAL.
NOTE: The data set WORK.ANNO_DEATHS_TOTAL has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1200       data anno_deaths_total; set anno_gray_background anno_deaths_total;
1201       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 2 observations read from the data set WORK.ANNO_DEATHS_TOTAL.
NOTE: The data set WORK.ANNO_DEATHS_TOTAL has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
48                                The SAS System       07:18 Monday, April 13, 2020

      real time           0.00 seconds
      cpu time            0.00 seconds
      

1202       proc gslide anno=anno_deaths_total des='' name='deadsum';
1203       run;

1204       
1205       
1206       /*------------------------------recosum---------------------------------
1206     ! ----*/
1207       
1208       /* this is the grand sum (large number) over the recovered table */
1209       
1210       goptions xpixels=203 ypixels=98;

NOTE: There were 4 observations read from the data set WORK.ANNO_DEATHS_TOTAL.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds
      

1211       proc sql noprint;
1212       create table anno_recovered_total as
1213       select sum(recovered) as sum_recovered from latest_recovered;
NOTE: Table WORK.ANNO_RECOVERED_TOTAL created, with 1 rows and 1 columns.

1214       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1214     !       run;
1215       data anno_recovered_total; set anno_recovered_total;
1216       length function $8 color $12 style $35 text $300 html $300;
49                                The SAS System       07:18 Monday, April 13, 2020

1217       xsys='3'; ysys='3'; when='a'; hsys='d';
1218       function='label'; position='5';
1219       style='albany amt/bold'; color="graycc"; size=11;
1220       x=50; y=84; text="Total Recovered"; output;
1221       html='title='||quote(trim(left(put(sum_recovered,comma12.0)))||"
1221     ! recovered from COVID-19 Coronavirus worldwide");
1222       style='albany amt/bold'; color="cx71a81e"; size=40;
1223       x=50; y=50; text=trim(left(put(sum_recovered,comma12.0))); output;
1224       run;

NOTE: There were 1 observations read from the data set WORK.ANNO_RECOVERED_TOTAL.
NOTE: The data set WORK.ANNO_RECOVERED_TOTAL has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1225       data anno_recovered_total; set anno_gray_background anno_recovered_total
1225     ! ;
1226       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 2 observations read from the data set WORK.ANNO_RECOVERED_TOTAL.
NOTE: The data set WORK.ANNO_RECOVERED_TOTAL has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1227       proc gslide anno=anno_recovered_total des='' name='recosum';
1228       run;

1229       
1230       /*------------------------------incsum----------------------------------
1230     ! ---*/
1231       
50                                The SAS System       07:18 Monday, April 13, 2020

1232       goptions xpixels=203 ypixels=98;

NOTE: There were 4 observations read from the data set WORK.ANNO_RECOVERED_TOTAL.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

1233       proc sql noprint;
1234       create table anno_increase_total as
1235       select sum(confirmed_this_day) as sum_increase from latest_increase;
NOTE: Table WORK.ANNO_INCREASE_TOTAL created, with 1 rows and 1 columns.

1236       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1236     !       run;
1237       data anno_increase_total; set anno_increase_total;
1238       length function $8 color $12 style $35 text $300 html $300;
1239       xsys='3'; ysys='3'; when='a'; hsys='d';
1240       function='label'; position='5';
1241       style='albany amt/bold'; color="graycc"; size=11;
1242       x=50; y=84; text="New Cases Today"; output;
1243       html='title='||quote(trim(left(put(sum_increase,comma12.0)))||" increase
1243     !  in COVID-19 Coronavirus cases worldwide on &datestr");
1244       style='albany amt/bold'; color="orange"; size=40;
1245       x=50; y=50; text=trim(left(put(sum_increase,comma12.0))); output;
1246       run;

NOTE: There were 1 observations read from the data set WORK.ANNO_INCREASE_TOTAL.
NOTE: The data set WORK.ANNO_INCREASE_TOTAL has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
51                                The SAS System       07:18 Monday, April 13, 2020

      cpu time            0.00 seconds
      

1247       data anno_increase_total; set anno_gray_background anno_increase_total;
1248       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 2 observations read from the data set WORK.ANNO_INCREASE_TOTAL.
NOTE: The data set WORK.ANNO_INCREASE_TOTAL has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1249       proc gslide anno=anno_increase_total des='' name='incsum';
1250       run;

1251       
1252       
1253       
1254       /*----------------------------map---------------------------------------
1254     ! */
1255       
1256       /* World map, with annotated red bubbles */
1257       
1258       /* xpixels=(69.5-15.5)/100*1400  ypixels=(89-35)/100*700 */
1259       goptions xpixels=756 ypixels=378;
1260       

NOTE: There were 4 observations read from the data set WORK.ANNO_INCREASE_TOTAL.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds
      

1261       proc sql noprint;
52                                The SAS System       07:18 Monday, April 13, 2020

1262       create table map_data as
1263       select unique country_region, avg(lat) as lat, avg(long) as long,
1263     ! sum(confirmed) as confirmed
1264       from latest_confirmed
1265       group by country_region;
NOTE: Table WORK.MAP_DATA created, with 191 rows and 4 columns.

1266       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1266     !       run;
1267       
1268       data map_data; set map_data;
1269       /* if the average lat/long doesn't land in a good position, hard-code
1269     ! one */
1270       if country_region='Canada' then do;
1271        lat=52.7765273; long=-107.4818132;
1272        end;
1273       if country_region='Sweden' then do;
1274        lat=63.7425748; long=16.5564647;
1275        end;
1276       if country_region='Russia' then do;
1277        lat=55.4645521; long=37.3415677;
1278        end;
1279       if country_region='United Kingdom' then do;
1280        lat=53.7970459; long=-1.5191599;
1281        end;
1282       if country_region='France' then do;
1283        lat=48.8283932; long=2.3443639;
1284        end;
1285       if country_region='Mauritania' then do;
1286        lat=19.5488367; long=-10.3433656;
1287        end;
53                                The SAS System       07:18 Monday, April 13, 2020

1288       /* https://github.com/CSSEGISandData/COVID-19/issues/836 */
1289       if country_region='Congo (Brazzaville)' then do;
1290        lat=-0.7134667; long=15.7399857;
1291        end;
1292       length html $300;
1293       html=
1294        'title='||quote(
1295         trim(left(country_region))||'0d'x||
1296         trim(left(put(confirmed,comma12.0)))||' confirmed cases')||
1297        ' href='||quote('#'||trim(left(country_region)));
1298       run;

NOTE: There were 191 observations read from the data set WORK.MAP_DATA.
NOTE: The data set WORK.MAP_DATA has 191 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1299       
1300       /* The country names have to match in the data & map, for the choro map
1300     ! */
1301       /* So, let's make our SAS map names match the names in the data. */
1302       data my_map; set mapsgfk.world (where=((density<=2 or
1303        idname in ('Vatican City State' 'Gibraltar' 'San Marino' 'Monaco'))
1304        and idname^='Antarctica') drop=resolution);
NOTE: The map data sets in library MAPSGFK are based on the digital maps from GfK 
      GeoMarketing and are covered by their Copyright. For additional information, 
      see http://support.sas.com/mapsonline/gfklicense.
1305       length country_region $100;
1306       country_region=idname;
1307       if idname='China/Taiwan_POC' then country_region='Taiwan*';
1308       if idname='United States' then country_region='US';
1309       if idname='Bolivia, Plurinational State of' then
1309     ! country_region='Bolivia';
1310       if idname='Russian Federation' then country_region='Russia';
54                                The SAS System       07:18 Monday, April 13, 2020

1311       if idname='Viet Nam' then country_region='Vietnam';
1312       if idname='United Arab Emirates' then country_region='UAE';
1313       if idname='Macedonia' then country_region='North Macedonia';
1314       if idname='Brunei Darussalam' then country_region='Brunei';
1315       if idname='Vatican City State' then country_region='Holy See';
1316       if idname='South Korea' then country_region='Korea, South';
1317       if idname='Czech Republic' then country_region='Czechia';
1318       if idname='Ivory Coast' then country_region="Cote d'Ivoire";
1319       if idname='Swaziland' then country_region='Eswatini';
1320       if idname='Venezuela, Bolivarian Republic of' then
1320     ! country_region='Venezuela';
1321       if idname='Bailiwick of Jersey' then country_region='Jersey';
1322       if idname='Bailiwick of Guernsey' then country_region='Guernsey';
1323       if idname='Myanmar' then country_region='Burma';
1324       /*
1325       if idname='Bahamas' then country_region='The Bahamas';
1326       if idname='Bahamas' then country_region='Bahamas, The';
1327       */
1328       if idname='Tanzania, United Republic of' then country_region='Tanzania';
1329       if idname='Democratic Republic of Congo' then country_region='Congo
1329     ! (Kinshasa)';
1330       if idname='Congo' then country_region='Congo (Brazzaville)';
1331       /*
1332       if idname='Gambia' then country_region='Gambia, The';
1333       if idname='Congo' then country_region='Republic of the Congo';
1334       */
1335       run;

NOTE: There were 44075 observations read from the data set MAPSGFK.WORLD.
      WHERE ((density<=2) or idname in ('Gibraltar', 'Monaco', 'San Marino', 
      'Vatican City State')) and (idname not = 'Antarctica');
NOTE: The data set WORK.MY_MAP has 44075 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
55                                The SAS System       07:18 Monday, April 13, 2020


1336       /*
1337       if idname='China/Taiwan_POC' then country_region='Taiwan';
1338       if idname='Moldova' then country_region='Republic of Moldova';
1339       if idname='China' then country_region='Mainland China';
1340       if idname='United Kingdom' then country_region='UK';
1341       if idname='South Korea' then country_region='Republic of Korea';
1342       */
1343       
1344       /*
1345       Some code to help find the matches...
1346       proc print data=mapsgfk.world (where=(index(idname,'Vatican')^=0)); run;
1347       */
1348       proc gproject data=my_map out=my_map latlong eastlong degrees
1349        project=miller2 parmout=projparm;
1350       id country_region;
1351       run;

NOTE: The MILLER2 projection is experimental.
NOTE: POLELAT = 12.255794.
NOTE: POLELONG = 0.000411.
NOTE: The data set WORK.PROJPARM has 1 observations and 9 variables.
NOTE: There were 44075 observations read from the data set WORK.MY_MAP.
NOTE: The data set WORK.MY_MAP has 44075 observations and 13 variables.
NOTE: PROCEDURE GPROJECT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

1352       /* Project the bubble lat/longs the same way you did the map */
1353       proc gproject data=map_data out=map_data latlong eastlong degrees
1354        parmin=projparm parmentry=my_map;
1355       id;
1356       run;

NOTE: Using default parameters for entry MY_MAP from data set WORK.PROJPARM. Use 
56                                The SAS System       07:18 Monday, April 13, 2020

      NOPARMIN option to disable this feature.
NOTE: POLELAT = 12.255794.
NOTE: POLELONG = 0.000411.
NOTE: There were 191 observations read from the data set WORK.MAP_DATA.
NOTE: The data set WORK.MAP_DATA has 191 observations and 7 variables.
NOTE: PROCEDURE GPROJECT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1357       
1358       /* these control the size of the blue bubbles */
1359       %let max_val=500000;  /* maximum number of confirmed cases (will
1359     ! correspond to maximum bubble size) */
1360       %let max_area=80; /* maximum bubble size (area) */
1361       proc sort data=map_data out=anno_bubbles;
1362       by descending confirmed;
1363       run;

NOTE: There were 191 observations read from the data set WORK.MAP_DATA.
NOTE: The data set WORK.ANNO_BUBBLES has 191 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1364       data anno_bubbles; set anno_bubbles;
1365       length function $8 color $12 style $35 text $300 html $300;
1366       xsys='2'; ysys='2'; hsys='3'; when='a';
1367       function='pie'; rotate=360; style='psolid'; color="red";
1368       size=.3+sqrt((confirmed/&max_val)*&max_area/3.14);
1369       output;
1370       /* gray outline around bubbles (especially important for overlapping
1370     ! bubbles */
1371       size=size+.1;
1372       style='pempty';
57                                The SAS System       07:18 Monday, April 13, 2020

1373       color='gray77';
1374       html='';
1375       output;
1376       run;

NOTE: Variable text is uninitialized.
NOTE: There were 191 observations read from the data set WORK.ANNO_BUBBLES.
NOTE: The data set WORK.ANNO_BUBBLES has 382 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1377       
1378       data anno_bubbles; set anno_gray_background anno_bubbles;
1379       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 382 observations read from the data set WORK.ANNO_BUBBLES.
NOTE: The data set WORK.ANNO_BUBBLES has 384 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1380       pattern1 v=s c=gray99;
1381       proc gmap data=map_data map=my_map all anno=anno_bubbles;
1382       id country_region;
1383       choro confirmed / levels=1 nolegend
1384        cdefault=gray55 coutline=gray77
1385        html=html
1386        des='' name='map';
1387       run;

WARNING: ID variable Country_Region is of length 32 in response data set and 
         length 100 in map data set.  This might result in ID values not matching 
58                                The SAS System       07:18 Monday, April 13, 2020

         or multiple regions to be combined.

NOTE: There were 44075 observations read from the data set WORK.MY_MAP.
NOTE: There were 384 observations read from the data set WORK.ANNO_BUBBLES.
NOTE: PROCEDURE GMAP used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

1388       proc sql noprint;
1389       create table not_in_map as
1390       select unique country_region
1391       from map_data
1392       where country_region not in (select unique country_region from my_map);
NOTE: Table WORK.NOT_IN_MAP created, with 5 rows and 1 columns.

1393       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

1393     !       run;
1394       
1395       
1396       /*--------------------------conftab-------------------------------------
1396     ! ----*/
1397       
1398       /* confirmed table */
1399       
1400       /* xpixels=(15-.5)/100*1400 ypixels=(74-1)/100*700 */
1401       goptions xpixels=203 ypixels=511;
1402       proc sql noprint;
1403       create table anno_table_confirmed as
1404       select unique country_region, sum(confirmed) as confirmed
1405       from latest_confirmed
59                                The SAS System       07:18 Monday, April 13, 2020

1406       group by country_region;
NOTE: Table WORK.ANNO_TABLE_CONFIRMED created, with 191 rows and 2 columns.

1407       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1407     !       run;
1408       proc sort data=anno_table_confirmed out=anno_table_confirmed;
1409       by descending confirmed country_region;
1410       run;

NOTE: There were 191 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: The data set WORK.ANNO_TABLE_CONFIRMED has 191 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1411       data anno_table_confirmed; set anno_table_confirmed (obs=16);
1412       if country_region='United Arab Emirates' then country_region='UAE';
1413       if country_region='Iran (Islamic Republic of)' then
1413     ! country_region='Iran';
1414       run;

NOTE: There were 16 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: The data set WORK.ANNO_TABLE_CONFIRMED has 16 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1415       data anno_table_confirmed; set anno_table_confirmed;
1416       length function $8 color $12 style $35 text $300 html $300;
60                                The SAS System       07:18 Monday, April 13, 2020

1417       xsys='3'; ysys='3'; when='a'; hsys='d';
1418       function='label'; style='albany amt/bold'; size=11;
1419       y=99-(_n_*6);
1420       text=trim(left(put(confirmed,comma12.0))); x=28; position='4';
1420     ! color="red"; output;
1421       text=trim(left(country_region)); x=x+5; position='6'; color="graycc";
1421     ! output;
1422       /* annotate an invisible box, for the html= mouse-over text */
1423       html='title='||quote(trim(left(put(confirmed,comma12.0)))||" confirmed
1423     ! cases of COVID-19 Coronavirus in "||trim(left(country_region)))||
1424        ' href='||quote('#'||trim(left(country_region)));
1425       function='move'; x=0; y=y-3; output;
1426       function='bar'; x=100; y=y+5; style='empty'; line=3; size=.001;
1426     ! color="pink"; output;
1427       run;

NOTE: There were 16 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: The data set WORK.ANNO_TABLE_CONFIRMED has 64 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1428       data anno_table_confirmed; set anno_table_confirmed;
1429       output;
1430       if _n_=1 then do;
1431        style='albany amt'; color="graycc"; text='- top 16 -'; x=50; y=y+5;
1431     ! position='5'; output;
1432        end;
1433       run;

NOTE: There were 64 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: The data set WORK.ANNO_TABLE_CONFIRMED has 65 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
61                                The SAS System       07:18 Monday, April 13, 2020

      

1434       data anno_table_confirmed; set anno_gray_background anno_table_confirmed
1434     ! ;
1435       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 65 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: The data set WORK.ANNO_TABLE_CONFIRMED has 67 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1436       proc gslide anno=anno_table_confirmed des='' name='conftab';
1437       run;

NOTE: ERROR DETECTED IN ANNOTATE= DATASET WORK.ANNO_TABLE_CONFIRMED.
NOTE: PROBLEM IN OBSERVATION     6 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    10 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    14 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    18 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    22 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    26 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    30 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    34 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    38 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
62                                The SAS System       07:18 Monday, April 13, 2020

NOTE: PROBLEM IN OBSERVATION    42 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    46 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    50 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    54 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    58 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    62 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    66 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
1438       
1439       
1440       /*---------------------------deadtab------------------------------------
1440     ! ----*/
1441       
1442       /* dead table */
1443       
1444       /* xpixels=(84.5-70)/100*1400 ypixels=(74-16)/100*700 */
1445       goptions xpixels=203 ypixels=406;

NOTE: There were 67 observations read from the data set WORK.ANNO_TABLE_CONFIRMED.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

1446       proc sql noprint;
1447       create table anno_table_deaths as
1448       select unique country_region, sum(deaths) as deaths
1449       from latest_deaths
1450       group by country_region;
NOTE: Table WORK.ANNO_TABLE_DEATHS created, with 191 rows and 2 columns.
63                                The SAS System       07:18 Monday, April 13, 2020


1451       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1451     !       run;
1452       proc sort data=anno_table_deaths out=anno_table_deaths;
1453       by descending deaths country_region;
1454       run;

NOTE: There were 191 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 191 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1455       data anno_table_deaths; set anno_table_deaths (where=(deaths>0));
1456       run;

NOTE: There were 152 observations read from the data set WORK.ANNO_TABLE_DEATHS.
      WHERE deaths>0;
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 152 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1457       data anno_table_deaths; set anno_table_deaths (obs=13);
1458       if country_region='United Arab Emirates' then country_region='UAE';
1459       if country_region='Iran (Islamic Republic of)' then
1459     ! country_region='Iran';
1460       run;

64                                The SAS System       07:18 Monday, April 13, 2020

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 13 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1461       data anno_table_deaths; set anno_table_deaths;
1462       length function $8 color $12 style $35 text $300 html $300;
1463       xsys='3'; ysys='3'; when='a'; hsys='d';
1464       function='label'; style='albany amt/bold'; size=11;
1465       y=98-(_n_*7);
1466       text=trim(left(put(deaths,comma12.0))); x=28; position='4';
1466     ! color="white"; output;
1467       text=trim(left(country_region)); x=x+5; position='6'; color="graycc";
1467     ! output;
1468       /* annotate an invisible box, for the html= mouse-over text */
1469       html='title='||quote(trim(left(put(deaths,comma12.0)))||" deaths from
1469     ! COVID-19 Coronavirus in "||trim(left(country_region)))||
1470        ' href='||quote('#'||trim(left(country_region)));
1471       function='move'; x=0; y=y-3; output;
1472       function='bar'; x=100; y=y+5; style='empty'; line=3; size=.001;
1472     ! color="pink"; output;
1473       run;

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 52 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1474       data anno_table_deaths; set anno_table_deaths;
1475       output;
1476       if _n_=1 then do;
1477        style='albany amt'; color="graycc"; text='- top 13 -'; x=50; y=y+6;
65                                The SAS System       07:18 Monday, April 13, 2020

1477     ! position='5'; output;
1478        end;
1479       run;

NOTE: There were 52 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 53 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1480       data anno_table_deaths; set anno_gray_background anno_table_deaths;
1481       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 53 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: The data set WORK.ANNO_TABLE_DEATHS has 55 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1482       proc gslide anno=anno_table_deaths des='' name='deadtab';
1483       run;

NOTE: ERROR DETECTED IN ANNOTATE= DATASET WORK.ANNO_TABLE_DEATHS.
NOTE: PROBLEM IN OBSERVATION     6 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    10 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    14 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    18 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    22 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
66                                The SAS System       07:18 Monday, April 13, 2020

NOTE: PROBLEM IN OBSERVATION    26 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    30 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    34 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    38 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    42 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    46 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    50 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    54 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
1484       
1485       
1486       /*---------------------------inctab-------------------------------------
1486     ! ---*/
1487       
1488       /* daily increase table */
1489       
1490       goptions xpixels=203 ypixels=406;

NOTE: There were 55 observations read from the data set WORK.ANNO_TABLE_DEATHS.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

1491       proc sort data=latest_increase out=anno_table_increase;
1492       by descending confirmed_this_day country_region;
1493       run;

NOTE: There were 191 observations read from the data set WORK.LATEST_INCREASE.
67                                The SAS System       07:18 Monday, April 13, 2020

NOTE: The data set WORK.ANNO_TABLE_INCREASE has 191 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1494       data anno_table_increase; set anno_table_increase
1494     ! (where=(confirmed_this_day>0));
1495       run;

NOTE: There were 140 observations read from the data set WORK.ANNO_TABLE_INCREASE.
      WHERE confirmed_this_day>0;
NOTE: The data set WORK.ANNO_TABLE_INCREASE has 140 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1496       data anno_table_increase; set anno_table_increase (obs=13);
1497       if country_region='United Arab Emirates' then country_region='UAE';
1498       if country_region='Iran (Islamic Republic of)' then
1498     ! country_region='Iran';
1499       run;

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_INCREASE.
NOTE: The data set WORK.ANNO_TABLE_INCREASE has 13 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1500       
1501       data anno_table_increase; set anno_table_increase;
1502       length function $8 color $12 style $35 text $300 html $300;
1503       xsys='3'; ysys='3'; when='a'; hsys='d';
1504       function='label'; style='albany amt/bold'; size=11;
68                                The SAS System       07:18 Monday, April 13, 2020

1505       y=98-(_n_*7);
1506       /* green was cx71a81e */
1507       text=trim(left(put(confirmed_this_day,comma12.0))); x=28; position='4';
1507     ! color="orange"; output;
1508       text=trim(left(country_region)); x=x+5; position='6'; color="graycc";
1508     ! output;
1509       /* annotate an invisible box, for the html= mouse-over text */
1510       html='title='||quote(trim(left(put(confirmed_this_day,comma12.0)))||
1511        " increase in COVID-19 Coronavirus in "||trim(left(country_region))||'
1511     ! on '||trim(left(put(snapshot,nldate20.))))||
1512        ' href='||quote('#'||trim(left(country_region)));
1513       function='move'; x=0; y=y-3; output;
1514       function='bar'; x=100; y=y+5; style='empty'; line=3; size=.001;
1514     ! color="pink"; output;
1515       run;

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_INCREASE.
NOTE: The data set WORK.ANNO_TABLE_INCREASE has 52 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1516       data anno_table_increase; set anno_table_increase;
1517       output;
1518       if _n_=1 then do;
1519        style='albany amt'; color="graycc"; text='- top 13 -'; x=50; y=y+6;
1519     ! position='5'; output;
1520        end;
1521       run;

NOTE: There were 52 observations read from the data set WORK.ANNO_TABLE_INCREASE.
NOTE: The data set WORK.ANNO_TABLE_INCREASE has 53 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
69                                The SAS System       07:18 Monday, April 13, 2020

      

1522       data anno_table_increase; set anno_gray_background anno_table_increase;
1523       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 53 observations read from the data set WORK.ANNO_TABLE_INCREASE.
NOTE: The data set WORK.ANNO_TABLE_INCREASE has 55 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1524       proc gslide anno=anno_table_increase des='' name='incrtab';
1525       run;

NOTE: ERROR DETECTED IN ANNOTATE= DATASET WORK.ANNO_TABLE_INCREASE.
NOTE: PROBLEM IN OBSERVATION     6 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    10 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    14 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    18 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    22 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    26 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    30 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    34 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    38 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    42 -
70                                The SAS System       07:18 Monday, April 13, 2020

      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    46 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    50 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    54 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
1526       
1527       
1528       
1529       /*---------------------------recotab------------------------------------
1529     ! ----*/
1530       
1531       /* recovered table */
1532       
1533       goptions xpixels=203 ypixels=406;

NOTE: There were 55 observations read from the data set WORK.ANNO_TABLE_INCREASE.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.09 seconds
      

1534       proc sql noprint;
1535       create table anno_table_recovered as
1536       select unique country_region, sum(recovered) as recovered
1537       from latest_recovered
1538       group by country_region;
NOTE: Table WORK.ANNO_TABLE_RECOVERED created, with 191 rows and 2 columns.

1539       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

71                                The SAS System       07:18 Monday, April 13, 2020

1539     !       run;
1540       proc sort data=anno_table_recovered out=anno_table_recovered;
1541       by descending recovered country_region;
1542       run;

NOTE: There were 191 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 191 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1543       data anno_table_recovered; set anno_table_recovered
1543     ! (where=(recovered>0));
1544       run;

NOTE: There were 167 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
      WHERE recovered>0;
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 167 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1545       data anno_table_recovered; set anno_table_recovered (obs=13);
1546       if country_region='United Arab Emirates' then country_region='UAE';
1547       if country_region='Iran (Islamic Republic of)' then
1547     ! country_region='Iran';
1548       run;

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 13 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
72                                The SAS System       07:18 Monday, April 13, 2020


1549       data anno_table_recovered; set anno_table_recovered;
1550       length function $8 color $12 style $35 text $300 html $300;
1551       xsys='3'; ysys='3'; when='a'; hsys='d';
1552       function='label'; style='albany amt/bold'; size=11;
1553       y=98-(_n_*7);
1554       text=trim(left(put(recovered,comma12.0))); x=28; position='4';
1554     ! color="cx71a81e"; output;
1555       text=trim(left(country_region)); x=x+5; position='6'; color="graycc";
1555     ! output;
1556       /* annotate an invisible box, for the html= mouse-over text */
1557       html='title='||quote(trim(left(put(recovered,comma12.0)))||" recovered
1557     ! from COVID-19 Coronavirus in "||trim(left(country_region)))||
1558        ' href='||quote('#'||trim(left(country_region)));
1559       function='move'; x=0; y=y-3; output;
1560       function='bar'; x=100; y=y+5; style='empty'; line=3; size=.001;
1560     ! color="pink"; output;
1561       run;

NOTE: There were 13 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 52 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1562       data anno_table_recovered; set anno_table_recovered;
1563       output;
1564       if _n_=1 then do;
1565       /*
1566        style='albany amt'; color="graycc"; text='- top 13 -'; x=50; y=y+6;
1566     ! position='5'; output;
1567       */
1568        style='albany amt'; color="graycc"; text='- data ended March 22 -';
1568     ! x=50; y=y+6;  position='5'; output;
1569        end;
73                                The SAS System       07:18 Monday, April 13, 2020

1570       run;

NOTE: There were 52 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 53 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1571       data anno_table_recovered; set anno_gray_background anno_table_recovered
1571     ! ;
1572       run;

NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: There were 53 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: The data set WORK.ANNO_TABLE_RECOVERED has 55 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1573       proc gslide anno=anno_table_recovered des='' name='recotab';
1574       run;

NOTE: ERROR DETECTED IN ANNOTATE= DATASET WORK.ANNO_TABLE_RECOVERED.
NOTE: PROBLEM IN OBSERVATION     6 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    10 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    14 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    18 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    22 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    26 -
74                                The SAS System       07:18 Monday, April 13, 2020

      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    30 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    34 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    38 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    42 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    46 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    50 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
NOTE: PROBLEM IN OBSERVATION    54 -
      HSYS="D" is valid only for text functions. HSYS changed to '4'.
1575       
1576       
1577       /*---------------------------series-------------------------------------
1577     ! ---*/
1578       
1579       /* time series graph */
1580       
1581       /* xpixels=(69.5-15.5)/100*1400 ypixels=(34-1)/100*700 */
1582       goptions xpixels=756 ypixels=231;

NOTE: There were 55 observations read from the data set WORK.ANNO_TABLE_RECOVERED.
NOTE: PROCEDURE GSLIDE used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

1583       proc sql noprint;
1584       create table summarized_series as
1585       select unique snapshot, sum(confirmed) as confirmed
1586       from confirmed_data
1587       group by snapshot
75                                The SAS System       07:18 Monday, April 13, 2020

1588       order by snapshot;
NOTE: Table WORK.SUMMARIZED_SERIES created, with 82 rows and 2 columns.

1589       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

1589     !       run;
1590       data summarized_series; set summarized_series;
1591       length html $300;
1592       html='title='||quote(
1593        trim(left(put(snapshot,weekdate30.)))||'0d'x||
1594        trim(left(put(confirmed,comma12.0)))||' confirmed cases'
1595        );
1596       run;

NOTE: There were 82 observations read from the data set WORK.SUMMARIZED_SERIES.
NOTE: The data set WORK.SUMMARIZED_SERIES has 82 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1597       /*
1598       There seems to be a bug in gplot mouseover text, when used in greplay in
1598     !  this way.
1599       Therefore I'm annotating 'invisible' circles around the gplot markers,
1600       with the html mouse-over on the annotated circles.
1601       */
1602       data anno_mouseover; set summarized_series;
1603       length function $8 color $12 style $35;
1604       xsys='2'; ysys='2'; hsys='3'; when='b';
1605       x=snapshot; y=confirmed;
1606       function='pie'; style='pempty'; size=3; rotate=360; color='gray22';
76                                The SAS System       07:18 Monday, April 13, 2020

1607       html=trim(left(html))||' href='||quote('#newbar');
1608       run;

NOTE: There were 82 observations read from the data set WORK.SUMMARIZED_SERIES.
NOTE: The data set WORK.ANNO_MOUSEOVER has 82 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1609       proc sql noprint;
1610       select min(snapshot) format=date9. into :mindate from summarized_series;
1611       select max(snapshot) format=date9. into :maxdate from summarized_series;
1612       select max(snapshot)-min(snapshot) into :byval from summarized_series;
1613       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1613     !       run;
1614       axis1 value=(c=graycc h=11pt) label=none minor=none offset=(0,0);
1615       axis2 label=none order=("&mindate"d to "&maxdate"d by &byval)
1616        major=(height=8pt) value=(c=graycc h=11pt font='albany amt')
1617        offset=(1,2);
1618       legend1 value=(c=graycc font="albany amt/bold" h=11pt)
1618     ! shape=symbol(4pct,4pct)
1619        label=(position=top font="albany amt/bold" h=11pt c=graycc "Total
1619     ! Confirmed Cases")
1620        position=(top left inside) mode=share across=1 repeat=2 offset=(3pct,
1620     ! -8pct);
1621       symbol1 interpol=sm50 height=8pt width=2 color=red value=square;
1622       title1 h=2pct ' ';
1623       footnote1 h=2pct ' ';
1624       data anno_mouseover; set anno_mouseover anno_gray_background;
1625       run;
77                                The SAS System       07:18 Monday, April 13, 2020


NOTE: There were 82 observations read from the data set WORK.ANNO_MOUSEOVER.
NOTE: There were 2 observations read from the data set WORK.ANNO_GRAY_BACKGROUND.
NOTE: The data set WORK.ANNO_MOUSEOVER has 84 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1626       proc gplot data=summarized_series anno=anno_mouseover;
1627       format confirmed comma12.0;
1628       format snapshot nldate20.;
1629       note move=(15,77) font='albany amt/bold' "Total Confirmed Cases
1629     ! Worldwide";
1630       plot confirmed*snapshot /
1631        vaxis=axis1 haxis=axis2
1632        des='' name="series";
1633       run;

1634       
1635       
1636       /*-------------------------------------------------------------------*/
1637       
1638       /*
1639       turn on display again, and replay all the individual graphs
1640       into a custom greplay template layout.
1641       */
1642       
1643       goptions display;
1644       
1645       %let border=gray44;
1646       goptions xpixels=1400 ypixels=700;

NOTE: There were 82 observations read from the data set WORK.SUMMARIZED_SERIES.
NOTE: There were 84 observations read from the data set WORK.ANNO_MOUSEOVER.
NOTE: PROCEDURE GPLOT used (Total process time):
78                                The SAS System       07:18 Monday, April 13, 2020

      real time           0.12 seconds
      cpu time            0.04 seconds
      

1647       proc greplay nofs igout=work.gseg tc=tempcat;
NOTE: Building list of graphs from the catalog.

NOTE: Enter greplay commands or statements.
1648          tdef dash des='COVID-19 Coronavirus Dashboard'
1649          0/ llx=0       lly=0
1650             ulx=0       uly=100
1651             urx=100     ury=100
1652             lrx=100     lry=0
1653          1/ llx=.5      lly=90
1654             ulx=.5      uly=99
1655             urx=99.5    ury=99
1656             lrx=99.5    lry=90
1657             color=&border
1658          2/ llx=.5      lly=75
1659             ulx=.5      uly=89
1660             urx=15      ury=89
1661             lrx=15      lry=75
1662             color=&border
1663          3/ llx=.5      lly=1
1664             ulx=.5      uly=74
1665             urx=15      ury=74
1666             lrx=15      lry=1
1667             color=&border
1668          4/ llx=70      lly=75
1669             ulx=70      uly=89
1670             urx=84.5    ury=89
1671             lrx=84.5    lry=75
1672             color=&border
1673          5/ llx=70      lly=16
1674             ulx=70      uly=74
1675             urx=84.5    ury=74
79                                The SAS System       07:18 Monday, April 13, 2020

1676             lrx=84.5    lry=16
1677             color=&border
1678          6/ llx=85      lly=75
1679             ulx=85      uly=89
1680             urx=99.5    ury=89
1681             lrx=99.5    lry=75
1682             color=&border
1683          7/ llx=85      lly=16
1684             ulx=85      uly=74
1685             urx=99.5    ury=74
1686             lrx=99.5    lry=16
1687             color=&border
1688          8/ llx=15.5    lly=35
1689             ulx=15.5    uly=89
1690             urx=69.5    ury=89
1691             lrx=69.5    lry=35
1692             color=&border
1693          9/ llx=15.5    lly=1
1694             ulx=15.5    uly=34
1695             urx=69.5    ury=34
1696             lrx=69.5    lry=1
1697             color=&border
1698         10/ llx=70      lly=1
1699             ulx=70      uly=15
1700             urx=99.5    ury=15
1701             lrx=99.5    lry=1
1702             color=&border
1703          ;
1704          template dash;
1705          treplay
1706           9:series
1707           0:back
1708           1:title
1709           2:confsum
1710           3:conftab
1711           4:incsum
80                                The SAS System       07:18 Monday, April 13, 2020

1712           5:incrtab
1713           6:deadsum
1714           7:deadtab
1715       /*
1716           7:recotab
1717       */
1718           8:map
1719          10:info
1720           des='' name="&name";
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at 
      the end of this session.
NOTE: Foreground color BLACK same as background. Part of your graph might not be 
      visible.
NOTE: 165574 bytes written to U:\web\democd103\coronavirus_covid19_dashboard.png.
1721       run;

1722       
1723       /* --------------------------------------------------------------------
1723     ! */
1724       
1725       ods graphics /
1726        noscale /* if you don't use this option, the text will be resized */
1727        imagemap tipmax=2500
1728        imagefmt=png
1729        width=800px height=600px
1730        noborder;
1731       
1732       /* --------------------------------------------------------------------
1732     ! */
1733       
1734       /*
1735       Create the bar chart, below the dashboard.
1736       */
1737       

NOTE: PROCEDURE GREPLAY used (Total process time):
81                                The SAS System       07:18 Monday, April 13, 2020

      real time           0.75 seconds
      cpu time            0.45 seconds
      

1738       proc sql noprint;
1739       
1740       create table bar_confirmed as
1741       select unique snapshot, 'Confirmed' as type, sum(confirmed) as
1741     ! cumulative_cases
1742       from confirmed_data
1743       group by snapshot
1744       order by snapshot;
NOTE: Table WORK.BAR_CONFIRMED created, with 82 rows and 3 columns.

1745       
1746       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1746     !       run;
1747       
1748       data bar_confirmed; set bar_confirmed;
1749       on_this_day=cumulative_cases-lag(cumulative_cases);
1750       run;

NOTE: Missing values were generated as a result of performing an operation on 
      missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 1749:29   
NOTE: There were 82 observations read from the data set WORK.BAR_CONFIRMED.
NOTE: The data set WORK.BAR_CONFIRMED has 82 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
82                                The SAS System       07:18 Monday, April 13, 2020

      

1751       
1752       ods html anchor="newbar";
1753       ods graphics / imagename="coronavirus_covid19_newbar";
1754       
1755       title1 h=18pt font='albany amt/bold' c=gray33 "COVID-19 Coronavirus -
1755     ! Number of new confirmed cases each day";
1756       title2 h=4pt ' ';
1757       
1758       ods graphics / width=900px height=600px;
1759       
1760       proc sgplot data=bar_confirmed noborder;
1761       /*
1762       format snapshot nldate20.;
1763       */
1764       format snapshot nldate20.;
1765       format on_this_day comma10.0;
1766       label on_this_day='Cases on this day';
1767       vbarparm category=snapshot response=on_this_day /
1768        fillattrs=(color=orange)
1769        outlineattrs=(color=gray77)
1770        tip=(snapshot on_this_day)
1771        tipformat=(weekdate30. auto auto)
1772        ;
1773       yaxis display=(nolabel noline noticks)
1774        grid gridattrs=(pattern=dot color=gray88)
1775        valueattrs=(color=gray33 size=10pt)
1776       /* thresholdmax=1 */
1777        ;
1778       xaxis display=(nolabel)
1779        type=time values=("&mindate"d to "&maxdate"d by &byval)
1780        valueattrs=(color=gray33 size=10pt);
1781       run;

NOTE: PROCEDURE SGPLOT used (Total process time):
83                                The SAS System       07:18 Monday, April 13, 2020

      real time           7.13 seconds
      cpu time            0.11 seconds
      
NOTE: There were 82 observations read from the data set WORK.BAR_CONFIRMED.

1782       
1783       
1784       /* --------------------------------------------------------------------
1784     ! */
1785       
1786       /*
1787       Create drilldown graphs for each country.
1788       We will jump to these graphs using html 'anchors' (by the name of the
1788     ! country)
1789       */
1790       
1791       proc sql noprint;
1792       
1793       create table graph_confirmed as
1794       select unique country_region, snapshot, sum(confirmed) as confirmed
1795       from confirmed_data
1796       group by country_region, snapshot
1797       order by country_region, snapshot;
NOTE: Table WORK.GRAPH_CONFIRMED created, with 15662 rows and 3 columns.

1798       
1799       create table graph_recovered as
1800       select unique country_region, snapshot, sum(recovered) as recovered
1801       from recovered_data
1802       group by country_region, snapshot
1803       order by country_region, snapshot;
NOTE: Table WORK.GRAPH_RECOVERED created, with 15662 rows and 3 columns.

1804       
1805       create table graph_deaths as
1806       select unique country_region, snapshot, sum(deaths) as deaths
84                                The SAS System       07:18 Monday, April 13, 2020

1807       from death_data
1808       group by country_region, snapshot
1809       order by country_region, snapshot;
NOTE: Table WORK.GRAPH_DEATHS created, with 15662 rows and 3 columns.

1810       
1811       
1812       create table graph_all as
1813       select unique graph_confirmed.*, graph_recovered.recovered
1814       from graph_confirmed left join graph_recovered
1815       on (graph_confirmed.country_region=graph_recovered.country_region) and
1815     ! (graph_confirmed.snapshot=graph_recovered.snapshot);
NOTE: Table WORK.GRAPH_ALL created, with 15662 rows and 4 columns.

1816       
1817       create table graph_all as
1818       select unique graph_all.*, graph_deaths.deaths
1819       from graph_all left join graph_deaths
1820       on (graph_all.country_region=graph_deaths.country_region) and
1820     ! (graph_all.snapshot=graph_deaths.snapshot);
WARNING: This CREATE TABLE statement recursively references the target table. A 
         consequence of this is a possible data integrity problem.
NOTE: Table WORK.GRAPH_ALL created, with 15662 rows and 5 columns.

1821       
1822       quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.12 seconds
      

1822     !       run;
1823       
1824       data graph_all; set graph_all;
1825       if country_region='United Arab Emirates' then country_region='UAE';
1826       if country_region='Iran (Islamic Republic of)' then
85                                The SAS System       07:18 Monday, April 13, 2020

1826     ! country_region='Iran';
1827       run;

NOTE: There were 15662 observations read from the data set WORK.GRAPH_ALL.
NOTE: The data set WORK.GRAPH_ALL has 15662 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

1828       
1829       proc sort data=graph_all out=graph_all;
1830       by country_region snapshot;
1831       run;

NOTE: There were 15662 observations read from the data set WORK.GRAPH_ALL.
NOTE: The data set WORK.GRAPH_ALL has 15662 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1832       
1833       ods html anchor="#byval(country_region)";
1834       ods graphics / imagename="coronavirus_covid19_#byval(country_region)";
1835       
1836       options nobyline;
1837       title1 h=18pt font='albany amt/bold' c=gray33 "COVID-19 Coronavirus
1837     ! cases in: #byval(country_region)";
1838       title2 h=4pt ' ';
1839       
1840       ods graphics / width=800px height=600px;
1841       proc sgplot data=graph_all noborder;
1842       by country_region;
1843       /*
1844       format snapshot nldate.;
86                                The SAS System       07:18 Monday, April 13, 2020

1845       */
1846       format snapshot weekdate30.;
1847       format confirmed recovered deaths comma10.0;
1848       series y=confirmed x=snapshot / name='confirmed'
1849        lineattrs=(color=red thickness=2px)
1850        markers markerattrs=(color=red symbol=square);
1851       series y=deaths x=snapshot / name='deaths'
1852        lineattrs=(color=gray77 thickness=2px)
1853        markers markerattrs=(color=gray77 symbol=circle);
1854       keylegend 'confirmed' 'recovered' 'deaths' /
1855        location=inside position=topleft opaque border
1856        across=1 outerpad=(left=10pt top=10pt);
1857       yaxis display=(nolabel noline noticks) min=0
1858        integer thresholdmax=1 grid gridattrs=(pattern=dot color=gray88)
1859        valueattrs=(color=gray33 size=10pt);
1860       xaxis display=(nolabel)
1861        type=time values=("&mindate"d to "&maxdate"d by &byval)
1862        valueattrs=(color=gray33 size=10pt);
1863       run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           20.88 seconds
      cpu time            6.68 seconds
      
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
         coronavirus_covid19_Bonaire_ Sint Eustatius and Saba will be used as the 
         image name prefix.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
87                                The SAS System       07:18 Monday, April 13, 2020

         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
         coronavirus_covid19_Congo _Brazzaville_ will be used as the image name 
         prefix.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
         coronavirus_covid19_Congo _Kinshasa_ will be used as the image name 
         prefix.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
         coronavirus_covid19_Cote d_Ivoire will be used as the image name prefix.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
88                                The SAS System       07:18 Monday, April 13, 2020

         coronavirus_covid19_Korea_ South will be used as the image name prefix.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: The IMAGENAME option or the output name contains invalid characters. 
         coronavirus_covid19_Taiwan_ will be used as the image name prefix.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
89                                The SAS System       07:18 Monday, April 13, 2020

         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
WARNING: Y=DEATHS is invalid. The option expects that the column not contain all 
         missing values.
NOTE: There were 15662 observations read from the data set WORK.GRAPH_ALL.

1864       
1865       /* ------------------------------------------------------------------ */
1866       
1867       /* We don't have Hong Kong and Macau in our world map */
1868       /* That's ok - those polygons would be too small to see anyway */
1869       /* They still get a red bubble. */
1870       /*
1871       */
1872       title "country_region names not in the map";
1873       proc print data=not_in_map (where=(country_region not in (
1874        'Monaco'
1875        'Macau'
1876        'Cabo Verde'
1877        'Macao SAR'
1878        'Hong Kong SAR'
1879        'North Ireland'
1880        'San Marino'
1881        'Channel Islands'
1882        'Taipei and environs'
1883        'occupied Palestinian territory'
1884        'Cruise Ship'
1885        'Diamond Princess'
1886        'Republic of the Congo'
1887        'East Timor'
1888        'Timor-Leste'
90                                The SAS System       07:18 Monday, April 13, 2020

1889        'West Bank and Gaza'
1890        'MS Zaandam'
1891        'Bonaire, Sint Eustatius and Saba'
1892        )));
1893       run;

NOTE: No observations were selected from data set WORK.NOT_IN_MAP.
NOTE: There were 0 observations read from the data set WORK.NOT_IN_MAP.
      WHERE country_region not in ('Bonaire, Sint Eustatius and Saba', 'Cabo 
      Verde', 'Channel Islands', 'Cruise Ship', 'Diamond Princess', 'East Timor', 
      'Hong Kong SAR', 'MS Zaandam', 'Macao SAR', 'Macau', 'Monaco', 'North 
      Ireland', 'Republic of the Congo', 'San Marino', 'Taipei and environs', 
      'Timor-Leste', 'West Bank and Gaza', 'occupied Palestinian territory');
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

1894       /*
1895       data foo; set mapsgfk.world_attr (where=(index(idname,'Venezuela')^=0));
1896       run;
1897       proc print data=foo; run;
1898       proc print data=map_data; run;
1899       */
1900       
1901       quit;
1902       ODS HTML CLOSE;
1903       ODS LISTING;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1:13.85
      cpu time            21.35 seconds
      
